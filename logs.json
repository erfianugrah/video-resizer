{
  "wallTime": 16262,
  "cpuTime": 122,
  "truncated": false,
  "executionModel": "stateless",
  "outcome": "ok",
  "scriptVersion": {
    "id": "923b188a-aaed-40ee-9996-30d5f24a3e72"
  },
  "scriptName": "video-resizer-production",
  "diagnosticsChannelEvents": [],
  "exceptions": [],
  "logs": [
    {
      "message": [
        "RequestContext: getCurrentContext called but no context is set",
        {}
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Set current request context",
        {
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
          "timestamp": "2025-06-12T10:10:18.875Z"
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Initializing environment configuration",
          "elapsedMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment determined",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment configuration parsing",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "No PATH_PATTERNS configuration provided",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment configuration completed",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Initializing environment configuration",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment determined",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment configuration parsing",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "No PATH_PATTERNS configuration provided",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment configuration completed",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Config",
          "message": "Loaded worker-config.json into globalThis.WORKER_CONFIG",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        {
          "time": 1749723018875,
          "level": 30,
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "version": "2.1.0",
          "hasVideoConfig": true,
          "hasOrigins": true,
          "originsType": "object",
          "originsCount": 10,
          "originsEnabled": true,
          "elapsedMs": 0,
          "category": "Config",
          "breadcrumb": {
            "timestamp": 1749723018875,
            "category": "Config",
            "message": "Loaded worker-config.json into globalThis.WORKER_CONFIG",
            "data": {
              "version": "2.1.0",
              "hasVideoConfig": true,
              "hasOrigins": true,
              "originsType": "object",
              "originsCount": 10,
              "originsEnabled": true
            },
            "elapsedMs": 0,
            "durationMs": 0
          },
          "breadcrumbsCount": 11,
          "msg": "Loaded worker-config.json into globalThis.WORKER_CONFIG"
        }
      ],
      "level": "info",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Updated breadcrumb config",
        {
          "enabled": true,
          "maxItems": 100
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Loaded debug config",
        {
          "enabled": false,
          "verbose": false
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Loaded debug config",
        {
          "enabled": false,
          "verbose": false
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Loaded breadcrumb config asynchronously",
        {
          "enabled": true,
          "maxItems": 100
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoConfigurationManager",
          "message": "Duration settings being updated",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        {
          "time": 1749723018875,
          "level": 30,
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "hasNewDefaultDuration": false,
          "oldDefaultDuration": null,
          "newDefaultDuration": null,
          "derivativeChanges": {},
          "elapsedMs": 0,
          "category": "VideoConfigurationManager",
          "breadcrumb": {
            "timestamp": 1749723018875,
            "category": "VideoConfigurationManager",
            "message": "Duration settings being updated",
            "data": {
              "hasNewDefaultDuration": false,
              "oldDefaultDuration": null,
              "newDefaultDuration": null,
              "derivativeChanges": {}
            },
            "elapsedMs": 0,
            "durationMs": 0
          },
          "breadcrumbsCount": 12,
          "msg": "Duration settings being updated"
        }
      ],
      "level": "info",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoConfigurationManager",
          "message": "Updated configuration duration settings",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        {
          "time": 1749723018875,
          "level": 30,
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "defaultDuration": null,
          "mobileDerivativeDuration": "not set",
          "desktopDerivativeDuration": "not set",
          "elapsedMs": 0,
          "category": "VideoConfigurationManager",
          "breadcrumb": {
            "timestamp": 1749723018875,
            "category": "VideoConfigurationManager",
            "message": "Updated configuration duration settings",
            "data": {
              "defaultDuration": null,
              "mobileDerivativeDuration": "not set",
              "desktopDerivativeDuration": "not set"
            },
            "elapsedMs": 0,
            "durationMs": 0
          },
          "breadcrumbsCount": 13,
          "msg": "Updated configuration duration settings"
        }
      ],
      "level": "info",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "ConfigurationService",
          "message": "Initializing configuration service",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "ConfigurationService",
          "message": "Loading configuration from KV",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Worker",
          "message": "Attempting to load configuration from KV",
          "elapsedMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723018875
    },
    {
      "message": [
        {
          "time": 1749723018875,
          "level": 30,
          "requestId": "702e9409-3683-4228-8b09-0ee22714f864",
          "elapsedMs": 0,
          "category": "Worker",
          "breadcrumb": {
            "timestamp": 1749723018875,
            "category": "Worker",
            "message": "Attempting to load configuration from KV",
            "elapsedMs": 0
          },
          "breadcrumbsCount": 1,
          "msg": "Attempting to load configuration from KV"
        }
      ],
      "level": "info",
      "timestamp": 1749723018875
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "ConfigurationService",
          "message": "Configuration distributed to all services",
          "elapsedMs": "133.00",
          "durationMs": "133.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "ConfigurationService",
          "message": "Configuration loaded and distributed",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoConfigurationManager",
          "message": "Duration settings being updated",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "hasNewDefaultDuration": true,
          "oldDefaultDuration": null,
          "newDefaultDuration": "5m",
          "derivativeChanges": {
            "desktop": {
              "old": null,
              "new": "5m"
            },
            "tablet": {
              "old": null,
              "new": "5m"
            },
            "mobile": {
              "old": null,
              "new": "5m"
            }
          },
          "elapsedMs": 133,
          "category": "VideoConfigurationManager",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "VideoConfigurationManager",
            "message": "Duration settings being updated",
            "data": {
              "hasNewDefaultDuration": true,
              "oldDefaultDuration": null,
              "newDefaultDuration": "5m",
              "derivativeChanges": {
                "desktop": {
                  "old": null,
                  "new": "5m"
                },
                "tablet": {
                  "old": null,
                  "new": "5m"
                },
                "mobile": {
                  "old": null,
                  "new": "5m"
                }
              }
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 18,
          "msg": "Duration settings being updated"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoConfigurationManager",
          "message": "Updated configuration duration settings",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "defaultDuration": "5m",
          "mobileDerivativeDuration": "5m",
          "desktopDerivativeDuration": "5m",
          "elapsedMs": 133,
          "category": "VideoConfigurationManager",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "VideoConfigurationManager",
            "message": "Updated configuration duration settings",
            "data": {
              "defaultDuration": "5m",
              "mobileDerivativeDuration": "5m",
              "desktopDerivativeDuration": "5m"
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 19,
          "msg": "Updated configuration duration settings"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoConfigurationManager",
          "message": "Updated origins",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "originsCount": 10,
          "origins": "videos, bynder, popular, popular-alt, shorts, shorts-alt, standard, standard-alt, authenticated-videos, default",
          "elapsedMs": 133,
          "category": "VideoConfigurationManager",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "VideoConfigurationManager",
            "message": "Updated origins",
            "data": {
              "originsCount": 10,
              "origins": "videos, bynder, popular, popular-alt, shorts, shorts-alt, standard, standard-alt, authenticated-videos, default"
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 20,
          "msg": "Updated origins"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "ConfigurationService",
          "message": "Configuration service initialized",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "ConfigurationService",
          "message": "Configuration is still fresh, skipping KV fetch",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Worker",
          "message": "Successfully loaded configuration from KV",
          "elapsedMs": "133.00",
          "durationMs": "133.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "702e9409-3683-4228-8b09-0ee22714f864",
          "version": "2.1.0",
          "lastUpdated": "2025-06-10T09:03:23.220Z",
          "elapsedMs": 133,
          "category": "Worker",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "Worker",
            "message": "Successfully loaded configuration from KV",
            "data": {
              "version": "2.1.0",
              "lastUpdated": "2025-06-10T09:03:23.220Z"
            },
            "elapsedMs": 133,
            "durationMs": 133
          },
          "durationMs": 133,
          "breadcrumbsCount": 2,
          "msg": "Successfully loaded configuration from KV"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Worker",
          "message": "About to apply KV configuration",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "702e9409-3683-4228-8b09-0ee22714f864",
          "hasVideoConfig": true,
          "hasCacheConfig": true,
          "hasDebugConfig": true,
          "hasLoggingConfig": true,
          "hasPassthrough": true,
          "passthroughEnabled": true,
          "version": "2.1.0",
          "lastUpdated": "2025-06-10T09:03:23.220Z",
          "elapsedMs": 133,
          "category": "Worker",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "Worker",
            "message": "About to apply KV configuration",
            "data": {
              "hasVideoConfig": true,
              "hasCacheConfig": true,
              "hasDebugConfig": true,
              "hasLoggingConfig": true,
              "hasPassthrough": true,
              "passthroughEnabled": true,
              "version": "2.1.0",
              "lastUpdated": "2025-06-10T09:03:23.220Z"
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 3,
          "msg": "About to apply KV configuration"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Configuration",
          "message": "Applying KV configuration",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Config",
          "message": "Processing KV configuration update",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "hasVideoConfig": true,
          "hasCacheConfig": true,
          "hasLoggingConfig": true,
          "hasDebugConfig": true,
          "hasStorageConfig": false,
          "configVersion": "2.1.0",
          "lastUpdated": "2025-06-10T09:03:23.220Z",
          "elapsedMs": 133,
          "category": "Config",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "Config",
            "message": "Processing KV configuration update",
            "data": {
              "hasVideoConfig": true,
              "hasCacheConfig": true,
              "hasLoggingConfig": true,
              "hasDebugConfig": true,
              "hasStorageConfig": false,
              "configVersion": "2.1.0",
              "lastUpdated": "2025-06-10T09:03:23.220Z"
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 23,
          "msg": "Processing KV configuration update"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Config",
          "message": "Processing video configuration from KV",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "hasPassthrough": true,
          "passthroughEnabled": true,
          "hasDerivatives": true,
          "hasCdnCgi": true,
          "hasPathPatterns": 0,
          "defaultDuration": "5m",
          "elapsedMs": 133,
          "category": "Config",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "Config",
            "message": "Processing video configuration from KV",
            "data": {
              "hasPassthrough": true,
              "passthroughEnabled": true,
              "hasDerivatives": true,
              "hasCdnCgi": true,
              "hasPathPatterns": 0,
              "defaultDuration": "5m"
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 24,
          "msg": "Processing video configuration from KV"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Config",
          "message": "Derivative durations from KV",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "derivatives": [
            "desktop",
            "tablet",
            "mobile",
            "thumbnail"
          ],
          "durations": {
            "desktop": "5m",
            "tablet": "5m",
            "mobile": "5m"
          },
          "elapsedMs": 133,
          "category": "Config",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "Config",
            "message": "Derivative durations from KV",
            "data": {
              "derivatives": [
                "desktop",
                "tablet",
                "mobile",
                "thumbnail"
              ],
              "durations": {
                "desktop": "5m",
                "tablet": "5m",
                "mobile": "5m"
              }
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 25,
          "msg": "Derivative durations from KV"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Config",
          "message": "Updated video configuration from KV",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "hasPassthrough": true,
          "passthroughEnabled": true,
          "whitelistedFormats": 3,
          "defaultDuration": "5m",
          "hasDerivatives": true,
          "derivativeCount": 4,
          "elapsedMs": 133,
          "category": "Config",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "Config",
            "message": "Updated video configuration from KV",
            "data": {
              "hasPassthrough": true,
              "passthroughEnabled": true,
              "whitelistedFormats": 3,
              "defaultDuration": "5m",
              "hasDerivatives": true,
              "derivativeCount": 4
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 26,
          "msg": "Updated video configuration from KV"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Config",
          "message": "Processing cache configuration from KV",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "method": "kv",
          "debug": false,
          "hasFallback": true,
          "profileCount": 0,
          "hasMimeTypes": true,
          "elapsedMs": 133,
          "category": "Config",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "Config",
            "message": "Processing cache configuration from KV",
            "data": {
              "method": "kv",
              "debug": false,
              "hasFallback": true,
              "profileCount": 0,
              "hasMimeTypes": true
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 27,
          "msg": "Processing cache configuration from KV"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Config",
          "message": "Updated cache configuration from KV",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "elapsedMs": 133,
          "category": "Config",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "Config",
            "message": "Updated cache configuration from KV",
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 28,
          "msg": "Updated cache configuration from KV"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Config",
          "message": "Updated logging configuration from KV",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": "debug",
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "format": "json",
          "elapsedMs": 133,
          "category": "Config",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "Config",
            "message": "Updated logging configuration from KV",
            "data": {
              "level": "debug",
              "format": "json"
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 29,
          "msg": "Updated logging configuration from KV"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Config",
          "message": "Updated debug configuration from KV",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "enabled": true,
          "verbose": false,
          "elapsedMs": 133,
          "category": "Config",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "Config",
            "message": "Updated debug configuration from KV",
            "data": {
              "enabled": true,
              "verbose": false
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 30,
          "msg": "Updated debug configuration from KV"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Config",
          "message": "Completed KV configuration update",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "hasVideoConfig": true,
          "hasCacheConfig": true,
          "hasLoggingConfig": true,
          "hasDebugConfig": true,
          "elapsedMs": 133,
          "category": "Config",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "Config",
            "message": "Completed KV configuration update",
            "data": {
              "hasVideoConfig": true,
              "hasCacheConfig": true,
              "hasLoggingConfig": true,
              "hasDebugConfig": true
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 31,
          "msg": "Completed KV configuration update"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoConfigurationManager",
          "message": "Duration settings being updated",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "hasNewDefaultDuration": true,
          "oldDefaultDuration": "5m",
          "newDefaultDuration": "5m",
          "derivativeChanges": {},
          "elapsedMs": 133,
          "category": "VideoConfigurationManager",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "VideoConfigurationManager",
            "message": "Duration settings being updated",
            "data": {
              "hasNewDefaultDuration": true,
              "oldDefaultDuration": "5m",
              "newDefaultDuration": "5m",
              "derivativeChanges": {}
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 32,
          "msg": "Duration settings being updated"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoConfigurationManager",
          "message": "Updated configuration duration settings",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "defaultDuration": "5m",
          "mobileDerivativeDuration": "5m",
          "desktopDerivativeDuration": "5m",
          "elapsedMs": 133,
          "category": "VideoConfigurationManager",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "VideoConfigurationManager",
            "message": "Updated configuration duration settings",
            "data": {
              "defaultDuration": "5m",
              "mobileDerivativeDuration": "5m",
              "desktopDerivativeDuration": "5m"
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 33,
          "msg": "Updated configuration duration settings"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoConfigurationManager",
          "message": "Updated origins",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "2a589bdc-0803-4c3e-b94a-df1b1e1d097b",
          "originsCount": 10,
          "origins": "videos, bynder, popular, popular-alt, shorts, shorts-alt, standard, standard-alt, authenticated-videos, default",
          "elapsedMs": 133,
          "category": "VideoConfigurationManager",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "VideoConfigurationManager",
            "message": "Updated origins",
            "data": {
              "originsCount": 10,
              "origins": "videos, bynder, popular, popular-alt, shorts, shorts-alt, standard, standard-alt, authenticated-videos, default"
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 34,
          "msg": "Updated origins"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "Updating Pino logger with config:",
        "{\"level\":\"debug\",\"browser\":{\"asObject\":true},\"base\":{\"service\":\"video-resizer\",\"env\":\"production\"}}"
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "Pino logger recreated with KV configuration (level: debug)"
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Worker",
          "message": "Updated Pino logger configuration",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "702e9409-3683-4228-8b09-0ee22714f864",
          "success": true,
          "elapsedMs": 133,
          "category": "Worker",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "Worker",
            "message": "Updated Pino logger configuration",
            "data": {
              "success": true
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 5,
          "msg": "Updated Pino logger configuration"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Worker",
          "message": "Path patterns after loading from KV",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "702e9409-3683-4228-8b09-0ee22714f864",
          "patternCount": 0,
          "patterns": [],
          "elapsedMs": 133,
          "category": "Worker",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "Worker",
            "message": "Path patterns after loading from KV",
            "data": {
              "patternCount": 0,
              "patterns": []
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 6,
          "msg": "Path patterns after loading from KV"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Configuration",
          "message": "Loaded path patterns from KV",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Worker",
          "message": "Applied KV configuration to all config managers",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "702e9409-3683-4228-8b09-0ee22714f864",
          "elapsedMs": 133,
          "category": "Worker",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "Worker",
            "message": "Applied KV configuration to all config managers",
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 8,
          "msg": "Applied KV configuration to all config managers"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Worker",
          "message": "Initialized configuration from environment",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "702e9409-3683-4228-8b09-0ee22714f864",
          "breadcrumbsEnabled": true,
          "maxItems": 100,
          "elapsedMs": 133,
          "category": "Worker",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "Worker",
            "message": "Initialized configuration from environment",
            "data": {
              "breadcrumbsEnabled": true,
              "maxItems": 100
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 9,
          "msg": "Initialized configuration from environment"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Worker",
          "message": "Initialized video-resizer v1.0.0 in production mode with KV caching",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "702e9409-3683-4228-8b09-0ee22714f864",
          "loggingLevel": "debug",
          "breadcrumbsEnabled": true,
          "maxBreadcrumbs": 25,
          "elapsedMs": 133,
          "category": "Worker",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "Worker",
            "message": "Initialized video-resizer v1.0.0 in production mode with KV caching",
            "data": {
              "loggingLevel": "debug",
              "breadcrumbsEnabled": true,
              "maxBreadcrumbs": 25
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 10,
          "msg": "Initialized video-resizer v1.0.0 in production mode with KV caching"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Worker",
          "message": "Incoming request",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "702e9409-3683-4228-8b09-0ee22714f864",
          "method": "GET",
          "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
          "pathname": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "search": "?imwidth=1920",
          "elapsedMs": 133,
          "category": "Worker",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "Worker",
            "message": "Incoming request",
            "data": {
              "method": "GET",
              "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
              "pathname": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "search": "?imwidth=1920"
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 11,
          "msg": "Incoming request"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Worker",
          "message": "Checking file extension for passthrough",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Passthrough",
          "message": "Detected file extension",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Worker",
          "message": "Using Origins configuration for video request",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "702e9409-3683-4228-8b09-0ee22714f864",
          "originsCount": 10,
          "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
          "path": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "elapsedMs": 133,
          "category": "Worker",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "Worker",
            "message": "Using Origins configuration for video request",
            "data": {
              "originsCount": 10,
              "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
              "path": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4"
            },
            "elapsedMs": 133,
            "durationMs": 0
          },
          "breadcrumbsCount": 14,
          "msg": "Using Origins configuration for video request"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Origins",
          "message": "Using Origins configuration",
          "elapsedMs": "133.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Set current request context",
        {
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
          "timestamp": "2025-06-12T10:10:19.008Z"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Environment variables received",
          "elapsedMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Request",
          "message": "Started total-request-processing",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Request",
          "message": "Started processing with Origins handler",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Request",
          "message": "Request received",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Loaded debug config",
        {
          "enabled": true,
          "verbose": false
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Checking KV cache",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Started cache-lookup",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCache",
          "message": "Started kv-cache-lookup",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Matched width to breakpoint",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "width": 1920,
          "breakpoint": "large",
          "derivative": "desktop",
          "min": 1281,
          "max": "none",
          "elapsedMs": 0,
          "category": "IMQuery",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "IMQuery",
            "message": "Matched width to breakpoint",
            "data": {
              "width": 1920,
              "breakpoint": "large",
              "derivative": "desktop",
              "min": 1281,
              "max": "none"
            },
            "elapsedMs": 0,
            "durationMs": 0
          },
          "breadcrumbsCount": 8,
          "msg": "Matched width to breakpoint"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Applied derivative configuration for caching",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Client",
          "message": "Matched IMQuery dimensions to derivative",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Applied derivative based on IMQuery dimensions",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "requestedWidth": 1920,
          "requestedHeight": null,
          "derivative": "desktop",
          "appliedWidth": 1920,
          "appliedHeight": 1080,
          "mappingMethod": "breakpoint",
          "source": "imquery-derivative",
          "elapsedMs": 0,
          "category": "IMQuery",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "IMQuery",
            "message": "Applied derivative based on IMQuery dimensions",
            "data": {
              "requestedWidth": 1920,
              "requestedHeight": null,
              "derivative": "desktop",
              "appliedWidth": 1920,
              "appliedHeight": 1080,
              "mappingMethod": "breakpoint",
              "source": "imquery-derivative"
            },
            "elapsedMs": 0,
            "durationMs": 0
          },
          "breadcrumbsCount": 11,
          "msg": "Applied derivative based on IMQuery dimensions"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Converted IMQuery to client hints",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Enhanced request with IMQuery client hints",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        {
          "time": 1749723019008,
          "level": 30,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "addedHeaders": {
            "Width": "1920"
          },
          "elapsedMs": 0,
          "category": "IMQuery",
          "breadcrumb": {
            "timestamp": 1749723019008,
            "category": "IMQuery",
            "message": "Enhanced request with IMQuery client hints",
            "data": {
              "addedHeaders": {
                "Width": "1920"
              }
            },
            "elapsedMs": 0,
            "durationMs": 0
          },
          "breadcrumbsCount": 13,
          "msg": "Enhanced request with IMQuery client hints"
        }
      ],
      "level": "info",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Client",
          "message": "Converted IMQuery to client hints",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Client",
          "message": "Using explicit dimensions",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Applied origin options for cache lookup",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019008
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheVersionService",
          "message": "Found cache key version",
          "elapsedMs": "131.00",
          "durationMs": "131.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019139
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Retrieved cache key version",
          "elapsedMs": "131.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019139
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Retrieved cache version for lookup",
          "elapsedMs": "131.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019139
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Checking KV cache",
          "elapsedMs": "131.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019139
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Checking KV cache for video",
          "elapsedMs": "131.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019139
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Initializing environment configuration",
          "elapsedMs": "131.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019139
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment determined",
          "elapsedMs": "131.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019139
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment configuration parsing",
          "elapsedMs": "131.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019139
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "No PATH_PATTERNS configuration provided",
          "elapsedMs": "131.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019139
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment configuration completed",
          "elapsedMs": "131.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019139
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Config",
          "message": "KV cache configuration from environment and cache config",
          "elapsedMs": "131.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019139
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Using configured bypass parameters",
          "elapsedMs": "131.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019139
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[GET_VIDEO] Attempting to retrieve video",
          "elapsedMs": "131.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019139
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[GET_VIDEO] Base key not found",
          "elapsedMs": "273.00",
          "durationMs": "142.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheVersionService",
          "message": "Found cache key version",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Retrieved cache key version",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheVersionService",
          "message": "Generated next cache key version",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[GET_VIDEO] Incremented version on cache miss",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCache",
          "message": "KV cache miss",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "KV cache miss",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCache",
          "message": "Completed kv-cache-lookup",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCache",
          "message": "KV cache miss",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheVersionService",
          "message": "Found cache key version",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Retrieved cache key version",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Completed cache-lookup",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Origins",
          "message": "Matched origin",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Matched origin for request",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Origins",
          "message": "Resolved source",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Resolved path to source",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Using cached derivative mapping",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Applied derivative configuration for caching",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Client",
          "message": "Matched IMQuery dimensions to derivative",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Applied derivative based on IMQuery dimensions",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        {
          "time": 1749723019281,
          "level": 30,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "requestedWidth": 1920,
          "requestedHeight": null,
          "derivative": "desktop",
          "appliedWidth": 1920,
          "appliedHeight": 1080,
          "mappingMethod": "breakpoint",
          "source": "imquery-derivative",
          "elapsedMs": 273,
          "category": "IMQuery",
          "breadcrumb": {
            "timestamp": 1749723019281,
            "category": "IMQuery",
            "message": "Applied derivative based on IMQuery dimensions",
            "data": {
              "requestedWidth": 1920,
              "requestedHeight": null,
              "derivative": "desktop",
              "appliedWidth": 1920,
              "appliedHeight": 1080,
              "mappingMethod": "breakpoint",
              "source": "imquery-derivative"
            },
            "elapsedMs": 273,
            "durationMs": 0
          },
          "breadcrumbsCount": 49,
          "msg": "Applied derivative based on IMQuery dimensions"
        }
      ],
      "level": "info",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Converted IMQuery to client hints",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Enhanced request with IMQuery client hints",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        {
          "time": 1749723019281,
          "level": 30,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "addedHeaders": {
            "Width": "1920"
          },
          "elapsedMs": 273,
          "category": "IMQuery",
          "breadcrumb": {
            "timestamp": 1749723019281,
            "category": "IMQuery",
            "message": "Enhanced request with IMQuery client hints",
            "data": {
              "addedHeaders": {
                "Width": "1920"
              }
            },
            "elapsedMs": 273,
            "durationMs": 0
          },
          "breadcrumbsCount": 51,
          "msg": "Enhanced request with IMQuery client hints"
        }
      ],
      "level": "info",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Client",
          "message": "Converted IMQuery to client hints",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Client",
          "message": "Using explicit dimensions",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Using cache version for transformation",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Initiating new transformation",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Transform",
          "message": "Started video-transformation",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Transforming video with Origins",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CommandInit",
          "message": "TransformVideoCommand Initialized",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "TransformVideoCommand",
          "message": "Starting execution",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Execution",
          "message": "Command execution started",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "TransformVideoCommand",
          "message": "Using Origins-based transformation",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Origins",
          "message": "Using Origins-based transformation",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Context",
          "message": "Gathering client capabilities",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "UserAgentUtils",
          "message": "Detecting browser capabilities from User-Agent",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "UserAgentUtils",
          "message": "Browser capabilities detection result",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "ClientHints",
          "message": "Client Hints Headers",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "ClientHints",
          "message": "Network Quality Metrics",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Initializing environment configuration",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment determined",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment configuration parsing",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "No PATH_PATTERNS configuration provided",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment configuration completed",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        {
          "time": 1749723019281,
          "level": 20,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "msg": "Retrieved derivative dimensions"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CDN-CGI",
          "message": "Using derivative dimensions for desktop",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        {
          "time": 1749723019281,
          "level": 30,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "derivative": "desktop",
          "originalWidth": 1920,
          "originalHeight": 1080,
          "derivativeWidth": 1920,
          "derivativeHeight": 1080,
          "elapsedMs": 273,
          "category": "CDN-CGI",
          "breadcrumb": {
            "timestamp": 1749723019281,
            "category": "CDN-CGI",
            "message": "Using derivative dimensions for desktop",
            "data": {
              "derivative": "desktop",
              "originalWidth": 1920,
              "originalHeight": 1080,
              "derivativeWidth": 1920,
              "derivativeHeight": 1080
            },
            "elapsedMs": 273,
            "durationMs": 0
          },
          "breadcrumbsCount": 73,
          "msg": "Using derivative dimensions for desktop"
        }
      ],
      "level": "info",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "TransformVideoCommand",
          "message": "Added version parameter to CDN-CGI URL for cache busting",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CDN-CGI",
          "message": "Created CDN-CGI URL: https://cdn.erfi.dev/cdn-cgi/media/width=1920,height=1080,mode=video,fit=contain,compression=auto,duration=5m,audio=true,loop=true,autoplay=false,muted=false/https://r2.www.cte.ikeadt.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?v=2",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        {
          "time": 1749723019281,
          "level": 30,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "url": "https://cdn.erfi.dev/cdn-cgi/media/width=1920,height=1080,mode=video,fit=contain,compression=auto,duration=5m,audio=true,loop=true,autoplay=false,muted=false/https://r2.www.cte.ikeadt.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?v=2",
          "sourceUrl": "https://r2.www.cte.ikeadt.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "params": "width=1920,height=1080,mode=video,fit=contain,compression=auto,duration=5m,audio=true,loop=true,autoplay=false,muted=false",
          "originType": "remote",
          "urlLength": 255,
          "isIMQuery": true,
          "derivative": "desktop",
          "imqueryDimensions": {
            "requestedWidth": 1920,
            "requestedHeight": 1080,
            "actualWidth": 1920,
            "actualHeight": 1080,
            "usingDerivativeDimensions": false
          },
          "elapsedMs": 273,
          "category": "CDN-CGI",
          "breadcrumb": {
            "timestamp": 1749723019281,
            "category": "CDN-CGI",
            "message": "Created CDN-CGI URL: https://cdn.erfi.dev/cdn-cgi/media/width=1920,height=1080,mode=video,fit=contain,compression=auto,duration=5m,audio=true,loop=true,autoplay=false,muted=false/https://r2.www.cte.ikeadt.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?v=2",
            "data": {
              "url": "https://cdn.erfi.dev/cdn-cgi/media/width=1920,height=1080,mode=video,fit=contain,compression=auto,duration=5m,audio=true,loop=true,autoplay=false,muted=false/https://r2.www.cte.ikeadt.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?v=2",
              "sourceUrl": "https://r2.www.cte.ikeadt.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "params": "width=1920,height=1080,mode=video,fit=contain,compression=auto,duration=5m,audio=true,loop=true,autoplay=false,muted=false",
              "originType": "remote",
              "urlLength": 255,
              "isIMQuery": true,
              "derivative": "desktop",
              "imqueryDimensions": {
                "requestedWidth": 1920,
                "requestedHeight": 1080,
                "actualWidth": 1920,
                "actualHeight": 1080,
                "usingDerivativeDimensions": false
              }
            },
            "elapsedMs": 273,
            "durationMs": 0
          },
          "breadcrumbsCount": 75,
          "msg": "Created CDN-CGI URL: https://cdn.erfi.dev/cdn-cgi/media/width=1920,height=1080,mode=video,fit=contain,compression=auto,duration=5m,audio=true,loop=true,autoplay=false,muted=false/https://r2.www.cte.ikeadt.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?v=2"
        }
      ],
      "level": "info",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Transformation",
          "message": "Created CDN-CGI URL",
          "elapsedMs": "273.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019281
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheVersionService",
          "message": "Stored cache key version in metadata",
          "elapsedMs": "583.00",
          "durationMs": "310.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019591
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Stored cache key version",
          "elapsedMs": "583.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723019591
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "TransformVideoCommand",
          "message": "Handling 404 error with retry mechanism",
          "elapsedMs": "1719.00",
          "durationMs": "1136.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020727
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "retryWithAlternativeOrigins",
          "message": "Starting retry after 404 error",
          "elapsedMs": "1719.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020727
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Retry",
          "message": "Attempting alternative origins after 404",
          "elapsedMs": "1719.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020727
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "retryWithAlternativeOrigins",
          "message": "Fetching video with exclusions",
          "elapsedMs": "1719.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020727
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Storage",
          "message": "Starting video fetch operation (Origins)",
          "elapsedMs": "1719.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020727
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "[bm4igfd3] Starting video fetch operation with Origins",
          "elapsedMs": "1719.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020727
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Video fetch request analysis with Origins",
          "elapsedMs": "1719.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020727
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Found matching origins for path",
          "elapsedMs": "1719.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020727
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Applied source exclusions",
          "elapsedMs": "1719.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020727
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Trying origin for path",
          "elapsedMs": "1719.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020727
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Trying fallback source",
          "elapsedMs": "1719.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020727
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Attempting fallback fetch",
          "elapsedMs": "1719.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020727
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Fallback path after transformation",
          "elapsedMs": "1719.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020727
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Fallback auth not enabled for this URL",
          "elapsedMs": "1719.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020727
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Fetching from fallback URL",
          "elapsedMs": "1719.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020727
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Starting background streaming of fallback to KV",
          "elapsedMs": "1845.00",
          "durationMs": "126.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020853
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Initiating background storage of fallback content",
          "elapsedMs": "1845.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020853
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Initiating storage for key",
          "elapsedMs": "1845.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020853
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Fallback fetch successful (Origins)",
          "elapsedMs": "1845.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020853
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Storage",
          "message": "Fallback fetch successful (Origins)",
          "elapsedMs": "1845.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020853
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "[bm4igfd3] Successfully found video with Origins",
          "elapsedMs": "1845.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020853
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "retryWithAlternativeOrigins",
          "message": "Found video in alternative source",
          "elapsedMs": "1845.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020853
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Retry",
          "message": "Alternative source successful",
          "elapsedMs": "1845.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020853
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "retryWithAlternativeOrigins",
          "message": "Preparing transformation with alternative origin",
          "elapsedMs": "1845.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020853
    },
    {
      "message": [
        "[PathUtils-Compat] Building CDN-CGI media URL",
        {
          "cdnCgiBasePath": "/cdn-cgi/media",
          "transformParams": {
            "width": 1920,
            "height": 1080,
            "fit": "contain",
            "duration": "5m"
          },
          "parameterString": "width=1920,height=1080,fit=contain,duration=5m",
          "originalOriginUrl": "https://ikea.getbynder.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "finalOriginUrl": "https://ikea.getbynder.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "requestUrl": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
          "baseUrl": "https://cdn.erfi.dev",
          "transformedUrl": "https://cdn.erfi.dev/cdn-cgi/media/width=1920,height=1080,fit=contain,duration=5m/https://ikea.getbynder.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "paramCount": 4,
          "keyParams": {
            "width": 1920,
            "height": 1080,
            "fit": "contain",
            "duration": "5m"
          },
          "hasDuration": true
        }
      ],
      "level": "debug",
      "timestamp": 1749723020853
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "retryWithAlternativeOrigins",
          "message": "Attempting transformation with alternative origin",
          "elapsedMs": "1845.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020853
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheResponseUtils",
          "message": "Starting response preparation for possible range handling",
          "elapsedMs": "1845.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020853
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CDN-CGI",
          "message": "Built media transformation URL",
          "elapsedMs": "1845.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723020853
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Video successfully buffered",
          "elapsedMs": "2007.00",
          "durationMs": "162.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723021015
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Storing as single KV entry",
          "elapsedMs": "2007.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723021015
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Using cache tag prefix from configuration",
          "elapsedMs": "2007.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723021015
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Generating cache tags",
          "elapsedMs": "2007.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723021015
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Generated cache tags",
          "elapsedMs": "2007.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723021015
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Preparing to PUT single entry",
          "elapsedMs": "2007.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723021015
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_HELPER] Preparing to store data",
          "elapsedMs": "2007.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723021015
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_HELPER] Storage size diagnostics",
          "elapsedMs": "2007.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723021015
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Stored cache version in KV",
          "elapsedMs": "5134.00",
          "durationMs": "3127.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723024142
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Stored transformed video in KV",
          "elapsedMs": "5134.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723024142
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KV",
          "message": "Stored transformed video in KV",
          "elapsedMs": "5134.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723024142
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Successfully stored fallback content in KV",
          "elapsedMs": "5134.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723024142
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheVersionService",
          "message": "Stored cache key version in metadata",
          "elapsedMs": "5459.00",
          "durationMs": "325.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723024467
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Stored cache key version",
          "elapsedMs": "5459.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723024467
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "retryWithAlternativeOrigins",
          "message": "Transformation successful with alternative source",
          "elapsedMs": "13800.00",
          "durationMs": "8341.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Transformation completed successfully",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Transform",
          "message": "Completed video-transformation",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Cleaned up in-flight transformation",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Storing response in KV (background)",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Initializing environment configuration",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment determined",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment configuration parsing",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "No PATH_PATTERNS configuration provided",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment configuration completed",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Config",
          "message": "KV cache configuration from environment and cache config",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "TTLDetermination",
          "message": "Using global cache TTL settings",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Determined TTL for caching based on content type",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Determined content length for KV storage calculation",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Content size details for KV storage",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Attempting to store in KV cache",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Using waitUntil for non-blocking KV storage",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Initiating storage for key",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Started async KV storage operation",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCache",
          "message": "Stored in KV cache",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Successfully stored in KV cache",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Response",
          "message": "Started response-building",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Successfully stored in KV (background)",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "ResponseBuilder",
          "message": "Building response with debug configuration",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        {
          "time": 1749723032808,
          "level": 20,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "debugEnabled": true,
          "verboseEnabled": false,
          "elapsedMs": 13800,
          "category": "ResponseBuilder",
          "breadcrumb": {
            "timestamp": 1749723032808,
            "category": "ResponseBuilder",
            "message": "Building response with debug configuration",
            "data": {
              "debugEnabled": true,
              "verboseEnabled": false
            },
            "elapsedMs": 13800,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "Building response with debug configuration"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Using cache tag prefix from configuration",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        {
          "time": 1749723032808,
          "level": 20,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "configuredPrefix": "video-prod-",
          "shortPrefix": "vp-",
          "source": "CacheConfigurationManager",
          "elapsedMs": 13800,
          "category": "VideoStorageService",
          "breadcrumb": {
            "timestamp": 1749723032808,
            "category": "VideoStorageService",
            "message": "Using cache tag prefix from configuration",
            "data": {
              "configuredPrefix": "video-prod-",
              "shortPrefix": "vp-",
              "source": "CacheConfigurationManager"
            },
            "elapsedMs": 13800,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "Using cache tag prefix from configuration"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Generating cache tags",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        {
          "time": 1749723032808,
          "level": 20,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "videoPath": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "hasOptions": true,
          "hasHeaders": true,
          "prefix": "vp-",
          "elapsedMs": 13800,
          "category": "VideoStorageService",
          "breadcrumb": {
            "timestamp": 1749723032808,
            "category": "VideoStorageService",
            "message": "Generating cache tags",
            "data": {
              "videoPath": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "hasOptions": true,
              "hasHeaders": true,
              "prefix": "vp-"
            },
            "elapsedMs": 13800,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "Generating cache tags"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Generated cache tags",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        {
          "time": 1749723032808,
          "level": 20,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "tagCount": 3,
          "generationTime": 0,
          "elapsedMs": 13800,
          "category": "VideoStorageService",
          "breadcrumb": {
            "timestamp": 1749723032808,
            "category": "VideoStorageService",
            "message": "Generated cache tags",
            "data": {
              "tagCount": 3,
              "generationTime": 0
            },
            "elapsedMs": 13800,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "Generated cache tags"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Applying cache tags to final response",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        {
          "time": 1749723032808,
          "level": 20,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "tagCount": 3,
          "elapsedMs": 13800,
          "category": "VideoHandlerWithOrigins",
          "breadcrumb": {
            "timestamp": 1749723032808,
            "category": "VideoHandlerWithOrigins",
            "message": "Applying cache tags to final response",
            "data": {
              "tagCount": 3
            },
            "elapsedMs": 13800,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "Applying cache tags to final response"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Applied Cache-Tags to final response",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Response",
          "message": "Processing headers for response",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Response",
          "message": "Building response with enhanced streaming support",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Response",
          "message": "Creating media content response",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Response",
          "message": "Completed response-building",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Request",
          "message": "Completed total-request-processing",
          "elapsedMs": "13800.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032808
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Video successfully buffered",
          "elapsedMs": "13806.00",
          "durationMs": "6.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032814
    },
    {
      "message": [
        {
          "time": 1749723032814,
          "level": 20,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
          "totalActualVideoBytes": 1404380,
          "contentType": "video/mp4",
          "elapsedMs": 13806,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723032814,
            "category": "KVStorageService",
            "message": "[STORE_VIDEO] Video successfully buffered",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
              "totalActualVideoBytes": 1404380,
              "contentType": "video/mp4"
            },
            "elapsedMs": 13806,
            "durationMs": 6
          },
          "durationMs": 6,
          "breadcrumbsCount": 100,
          "msg": "[STORE_VIDEO] Video successfully buffered"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032814
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Storing as single KV entry",
          "elapsedMs": "13806.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032814
    },
    {
      "message": [
        {
          "time": 1749723032814,
          "level": 20,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
          "size": 1404380,
          "usingSingleEntry": true,
          "elapsedMs": 13806,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723032814,
            "category": "KVStorageService",
            "message": "[STORE_VIDEO] Storing as single KV entry",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
              "size": 1404380,
              "usingSingleEntry": true
            },
            "elapsedMs": 13806,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "[STORE_VIDEO] Storing as single KV entry"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032814
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Using cache tag prefix from configuration",
          "elapsedMs": "13806.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032814
    },
    {
      "message": [
        {
          "time": 1749723032814,
          "level": 20,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "configuredPrefix": "video-prod-",
          "shortPrefix": "vp-",
          "source": "CacheConfigurationManager",
          "elapsedMs": 13806,
          "category": "VideoStorageService",
          "breadcrumb": {
            "timestamp": 1749723032814,
            "category": "VideoStorageService",
            "message": "Using cache tag prefix from configuration",
            "data": {
              "configuredPrefix": "video-prod-",
              "shortPrefix": "vp-",
              "source": "CacheConfigurationManager"
            },
            "elapsedMs": 13806,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "Using cache tag prefix from configuration"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032814
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Generating cache tags",
          "elapsedMs": "13806.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032814
    },
    {
      "message": [
        {
          "time": 1749723032814,
          "level": 20,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "videoPath": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "hasOptions": true,
          "hasHeaders": true,
          "prefix": "vp-",
          "elapsedMs": 13806,
          "category": "VideoStorageService",
          "breadcrumb": {
            "timestamp": 1749723032814,
            "category": "VideoStorageService",
            "message": "Generating cache tags",
            "data": {
              "videoPath": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "hasOptions": true,
              "hasHeaders": true,
              "prefix": "vp-"
            },
            "elapsedMs": 13806,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "Generating cache tags"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032814
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Generated cache tags",
          "elapsedMs": "13806.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032814
    },
    {
      "message": [
        {
          "time": 1749723032814,
          "level": 20,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "tagCount": 3,
          "generationTime": 0,
          "elapsedMs": 13806,
          "category": "VideoStorageService",
          "breadcrumb": {
            "timestamp": 1749723032814,
            "category": "VideoStorageService",
            "message": "Generated cache tags",
            "data": {
              "tagCount": 3,
              "generationTime": 0
            },
            "elapsedMs": 13806,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "Generated cache tags"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032814
    },
    {
      "message": [
        {
          "time": 1749723032814,
          "level": 20,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "msg": "Retrieved derivative dimensions"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032814
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Preparing to PUT single entry",
          "elapsedMs": "13806.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032814
    },
    {
      "message": [
        {
          "time": 1749723032814,
          "level": 20,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
          "size": 1404380,
          "metadata": {
            "mode": "video",
            "derivative": "desktop",
            "cacheTags": [
              "vp-p-original-PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "vp-p-original-PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4-desktop",
              "vp-d-desktop"
            ],
            "cacheVersion": 2,
            "contentType": "video/mp4",
            "contentLength": 1404380,
            "createdAt": 1749723032814,
            "customData": {
              "requestedWidth": 1920,
              "requestedHeight": 1080
            },
            "width": 1920,
            "height": 1080,
            "expiresAt": 1749723332814,
            "storeIndefinitely": true,
            "isChunked": false,
            "actualTotalVideoSize": 1404380
          },
          "elapsedMs": 13806,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723032814,
            "category": "KVStorageService",
            "message": "[STORE_VIDEO] Preparing to PUT single entry",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
              "size": 1404380,
              "metadata": {
                "mode": "video",
                "derivative": "desktop",
                "cacheTags": [
                  "vp-p-original-PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
                  "vp-p-original-PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4-desktop",
                  "vp-d-desktop"
                ],
                "cacheVersion": 2,
                "contentType": "video/mp4",
                "contentLength": 1404380,
                "createdAt": 1749723032814,
                "customData": {
                  "requestedWidth": 1920,
                  "requestedHeight": 1080
                },
                "width": 1920,
                "height": 1080,
                "expiresAt": 1749723332814,
                "storeIndefinitely": true,
                "isChunked": false,
                "actualTotalVideoSize": 1404380
              }
            },
            "elapsedMs": 13806,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "[STORE_VIDEO] Preparing to PUT single entry"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032814
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_HELPER] Preparing to store data",
          "elapsedMs": "13806.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032814
    },
    {
      "message": [
        {
          "time": 1749723032814,
          "level": 20,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
          "valueSize": 1404380,
          "isArrayBuffer": true,
          "elapsedMs": 13806,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723032814,
            "category": "KVStorageService",
            "message": "[STORE_HELPER] Preparing to store data",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
              "valueSize": 1404380,
              "isArrayBuffer": true
            },
            "elapsedMs": 13806,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "[STORE_HELPER] Preparing to store data"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032814
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_HELPER] Storage size diagnostics",
          "elapsedMs": "13806.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032814
    },
    {
      "message": [
        {
          "time": 1749723032814,
          "level": 20,
          "requestId": "112700da-718c-4f43-8767-203b417c0f6c",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
          "keySize": 88,
          "metadataSize": 460,
          "cacheTags": 3,
          "cacheTagsSize": 128,
          "elapsedMs": 13806,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723032814,
            "category": "KVStorageService",
            "message": "[STORE_HELPER] Storage size diagnostics",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
              "keySize": 88,
              "metadataSize": 460,
              "cacheTags": 3,
              "cacheTagsSize": 128
            },
            "elapsedMs": 13806,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "[STORE_HELPER] Storage size diagnostics"
        }
      ],
      "level": "debug",
      "timestamp": 1749723032814
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Stored cache version in KV",
          "elapsedMs": "535.00",
          "durationMs": "226.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034833
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Stored transformed video in KV",
          "elapsedMs": "535.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034833
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KV",
          "message": "Stored transformed video in KV",
          "elapsedMs": "535.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034833
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Async KV storage operation completed",
          "elapsedMs": "535.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034833
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCache",
          "message": "Async KV storage completed",
          "elapsedMs": "535.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034833
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheVersionService",
          "message": "Stored cache key version in metadata",
          "elapsedMs": "830.00",
          "durationMs": "295.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035128
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Stored cache key version",
          "elapsedMs": "830.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035128
    }
  ],
  "eventTimestamp": 1749723018798,
  "event": {
    "request": {
      "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/REDACTED.mp4?imwidth=1920",
      "method": "GET",
      "headers": {
        "accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7",
        "accept-encoding": "gzip, br",
        "accept-language": "en-GB,en-US;q=0.9,en;q=0.8",
        "cache-control": "no-cache",
        "cf-connecting-ip": "195.240.81.42",
        "cf-device-type": "desktop",
        "cf-ipcountry": "NL",
        "cf-ray": "94e88ec34c740b40",
        "cf-visitor": "{\"scheme\":\"https\"}",
        "connection": "Keep-Alive",
        "cookie": "REDACTED",
        "dnt": "1",
        "host": "cdn.erfi.dev",
        "pragma": "no-cache",
        "priority": "u=0, i",
        "sec-ch-ua": "\"Google Chrome\";v=\"137\", \"Chromium\";v=\"137\", \"Not/A)Brand\";v=\"24\"",
        "sec-ch-ua-mobile": "?0",
        "sec-ch-ua-platform": "\"Windows\"",
        "sec-fetch-dest": "document",
        "sec-fetch-mode": "navigate",
        "sec-fetch-site": "none",
        "sec-fetch-user": "?1",
        "upgrade-insecure-requests": "1",
        "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36",
        "x-forwarded-proto": "https",
        "x-real-ip": "195.240.81.42"
      },
      "cf": {
        "requestHeaderNames": {},
        "httpProtocol": "HTTP/3",
        "tlsCipher": "AEAD-AES128-GCM-SHA256",
        "city": "'s-Hertogenbosch",
        "continent": "EU",
        "asn": 1136,
        "clientAcceptEncoding": "gzip, deflate, br, zstd",
        "verifiedBotCategory": "",
        "country": "NL",
        "isEUCountry": "1",
        "botManagement": {
          "jsDetection": {
            "passed": false
          },
          "ja4Signals": {
            "h2h3_ratio_1h": 1,
            "heuristic_ratio_1h": 0.00094815681222826,
            "reqs_quantile_1h": 0.99998784065247,
            "uas_rank_1h": 22,
            "browser_ratio_1h": 0.9394137263298,
            "paths_rank_1h": 9,
            "reqs_rank_1h": 9,
            "cache_ratio_1h": 0.31212079524994,
            "ips_rank_1h": 10,
            "ips_quantile_1h": 0.99998646974564
          },
          "staticResource": false,
          "corporateProxy": false,
          "ja4": "q13d0312h3_55b375c5d22e_5a06198afb93",
          "verifiedBot": false,
          "ja3Hash": "b830205e8c7e77f66e83c92b44d9866d",
          "score": 99,
          "detectionIds": {}
        },
        "region": "North Brabant",
        "tlsClientCiphersSha1": "",
        "tlsClientAuth": {
          "certIssuerDNLegacy": "",
          "certIssuerSKI": "",
          "certSubjectDNRFC2253": "",
          "certSubjectDNLegacy": "",
          "certFingerprintSHA256": "",
          "certNotBefore": "",
          "certSKI": "",
          "certSerial": "",
          "certIssuerDN": "",
          "certVerified": "NONE",
          "certNotAfter": "",
          "certSubjectDN": "",
          "certPresented": "0",
          "certRevoked": "0",
          "certIssuerSerial": "",
          "certIssuerDNRFC2253": "",
          "certFingerprintSHA1": ""
        },
        "tlsClientRandom": "8LEMoBtRnUqz9WlJ6PIt7gwLlKMRvtzMJzeENZYMd3Q=",
        "tlsClientHelloLength": "2014",
        "colo": "AMS",
        "timezone": "Europe/Amsterdam",
        "longitude": "5.30417",
        "latitude": "51.69917",
        "edgeRequestKeepAliveStatus": 1,
        "requestPriority": "",
        "postalCode": "5212",
        "clientTrustScore": 99,
        "tlsVersion": "TLSv1.3",
        "regionCode": "NB",
        "asOrganization": "KPN B.V.",
        "tlsClientExtensionsSha1Le": "",
        "tlsClientExtensionsSha1": "zP4qkNym759zoype3BXDNG7Ndwc="
      }
    },
    "response": {
      "status": 200
    }
  }
}
{
  "wallTime": 121,
  "cpuTime": 58,
  "truncated": false,
  "executionModel": "stateless",
  "outcome": "ok",
  "scriptVersion": {
    "id": "923b188a-aaed-40ee-9996-30d5f24a3e72"
  },
  "scriptName": "video-resizer-production",
  "diagnosticsChannelEvents": [],
  "exceptions": [],
  "logs": [
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Worker",
          "message": "Incoming request",
          "elapsedMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        {
          "time": 1749723036070,
          "level": 30,
          "requestId": "e75c87e6-41bd-4a94-b45a-2049413c2573",
          "method": "GET",
          "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
          "pathname": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "search": "?imwidth=1920",
          "elapsedMs": 0,
          "category": "Worker",
          "breadcrumb": {
            "timestamp": 1749723036070,
            "category": "Worker",
            "message": "Incoming request",
            "data": {
              "method": "GET",
              "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
              "pathname": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "search": "?imwidth=1920"
            },
            "elapsedMs": 0
          },
          "breadcrumbsCount": 1,
          "msg": "Incoming request"
        }
      ],
      "level": "info",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Worker",
          "message": "Checking file extension for passthrough",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Loaded debug config",
        {
          "enabled": true,
          "verbose": false
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Passthrough",
          "message": "Detected file extension",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Worker",
          "message": "Using Origins configuration for video request",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        {
          "time": 1749723036070,
          "level": 30,
          "requestId": "e75c87e6-41bd-4a94-b45a-2049413c2573",
          "originsCount": 10,
          "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
          "path": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "elapsedMs": 0,
          "category": "Worker",
          "breadcrumb": {
            "timestamp": 1749723036070,
            "category": "Worker",
            "message": "Using Origins configuration for video request",
            "data": {
              "originsCount": 10,
              "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
              "path": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4"
            },
            "elapsedMs": 0,
            "durationMs": 0
          },
          "breadcrumbsCount": 4,
          "msg": "Using Origins configuration for video request"
        }
      ],
      "level": "info",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Origins",
          "message": "Using Origins configuration",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Set current request context",
        {
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
          "timestamp": "2025-06-12T10:10:36.070Z"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Environment variables received",
          "elapsedMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Request",
          "message": "Started total-request-processing",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Request",
          "message": "Started processing with Origins handler",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Request",
          "message": "Request received",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Loaded debug config",
        {
          "enabled": true,
          "verbose": false
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Checking KV cache",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Started cache-lookup",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCache",
          "message": "Started kv-cache-lookup",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Using cached derivative mapping",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Applied derivative configuration for caching",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Client",
          "message": "Matched IMQuery dimensions to derivative",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Applied derivative based on IMQuery dimensions",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        {
          "time": 1749723036070,
          "level": 30,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "requestedWidth": 1920,
          "requestedHeight": null,
          "derivative": "desktop",
          "appliedWidth": 1920,
          "appliedHeight": 1080,
          "mappingMethod": "breakpoint",
          "source": "imquery-derivative",
          "elapsedMs": 0,
          "category": "IMQuery",
          "breadcrumb": {
            "timestamp": 1749723036070,
            "category": "IMQuery",
            "message": "Applied derivative based on IMQuery dimensions",
            "data": {
              "requestedWidth": 1920,
              "requestedHeight": null,
              "derivative": "desktop",
              "appliedWidth": 1920,
              "appliedHeight": 1080,
              "mappingMethod": "breakpoint",
              "source": "imquery-derivative"
            },
            "elapsedMs": 0,
            "durationMs": 0
          },
          "breadcrumbsCount": 11,
          "msg": "Applied derivative based on IMQuery dimensions"
        }
      ],
      "level": "info",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Converted IMQuery to client hints",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Enhanced request with IMQuery client hints",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        {
          "time": 1749723036070,
          "level": 30,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "addedHeaders": {
            "Width": "1920"
          },
          "elapsedMs": 0,
          "category": "IMQuery",
          "breadcrumb": {
            "timestamp": 1749723036070,
            "category": "IMQuery",
            "message": "Enhanced request with IMQuery client hints",
            "data": {
              "addedHeaders": {
                "Width": "1920"
              }
            },
            "elapsedMs": 0,
            "durationMs": 0
          },
          "breadcrumbsCount": 13,
          "msg": "Enhanced request with IMQuery client hints"
        }
      ],
      "level": "info",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Client",
          "message": "Converted IMQuery to client hints",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Client",
          "message": "Using explicit dimensions",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Applied origin options for cache lookup",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036070
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheVersionService",
          "message": "Found cache key version",
          "elapsedMs": "4.00",
          "durationMs": "4.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036074
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Retrieved cache key version",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036074
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Retrieved cache version for lookup",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036074
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Checking KV cache",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036074
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Checking KV cache for video",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036074
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Initializing environment configuration",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036074
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment determined",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036074
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment configuration parsing",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036074
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "No PATH_PATTERNS configuration provided",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036074
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment configuration completed",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036074
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Config",
          "message": "KV cache configuration from environment and cache config",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036074
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Using configured bypass parameters",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036074
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Range request detected",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036074
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[GET_VIDEO] Attempting to retrieve video",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036074
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[GET_VIDEO] Retrieved base metadata",
          "elapsedMs": "13.00",
          "durationMs": "9.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036083
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[GET_VIDEO] Video is stored as single entry",
          "elapsedMs": "13.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036083
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[GET_VIDEO] Retrieved single entry video",
          "elapsedMs": "13.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036083
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[GET_VIDEO] Processing range request for single entry",
          "elapsedMs": "13.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036083
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KV",
          "message": "Range request success",
          "elapsedMs": "13.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036083
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[GET_VIDEO] Returning 206 Partial Content for single entry",
          "elapsedMs": "13.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036083
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCache",
          "message": "KV cache hit",
          "elapsedMs": "13.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036083
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "KV cache hit",
          "elapsedMs": "13.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036083
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCache",
          "message": "Completed kv-cache-lookup",
          "elapsedMs": "13.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036083
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Serving from KV cache",
          "elapsedMs": "13.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036083
    },
    {
      "message": [
        {
          "time": 1749723036083,
          "level": 30,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
          "path": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "cacheAge": "3s",
          "cacheTtl": "296s",
          "cacheKey": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
          "contentType": "video/mp4",
          "contentLength": "1404380",
          "fromKvCache": true,
          "elapsedMs": 13,
          "category": "VideoHandlerWithOrigins",
          "breadcrumb": {
            "timestamp": 1749723036083,
            "category": "VideoHandlerWithOrigins",
            "message": "Serving from KV cache",
            "data": {
              "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
              "path": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "cacheAge": "3s",
              "cacheTtl": "296s",
              "cacheKey": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
              "contentType": "video/mp4",
              "contentLength": "1404380",
              "fromKvCache": true
            },
            "elapsedMs": 13,
            "durationMs": 0
          },
          "breadcrumbsCount": 40,
          "msg": "Serving from KV cache"
        }
      ],
      "level": "info",
      "timestamp": 1749723036083
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "KV cache hit",
          "elapsedMs": "13.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036083
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Completed cache-lookup",
          "elapsedMs": "13.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036083
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "ResponseBuilder",
          "message": "Building KV cached response with debug configuration",
          "elapsedMs": "13.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036083
    },
    {
      "message": [
        {
          "time": 1749723036083,
          "level": 20,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "debugEnabled": true,
          "verboseEnabled": false,
          "elapsedMs": 13,
          "category": "ResponseBuilder",
          "breadcrumb": {
            "timestamp": 1749723036083,
            "category": "ResponseBuilder",
            "message": "Building KV cached response with debug configuration",
            "data": {
              "debugEnabled": true,
              "verboseEnabled": false
            },
            "elapsedMs": 13,
            "durationMs": 0
          },
          "breadcrumbsCount": 43,
          "msg": "Building KV cached response with debug configuration"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036083
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Response",
          "message": "Processing headers for response",
          "elapsedMs": "13.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036083
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Response",
          "message": "Building response with enhanced streaming support",
          "elapsedMs": "13.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036083
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Response",
          "message": "Creating 206 Partial Content response",
          "elapsedMs": "13.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036083
    }
  ],
  "eventTimestamp": 1749723036070,
  "event": {
    "request": {
      "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/REDACTED.mp4?imwidth=1920",
      "method": "GET",
      "headers": {
        "accept": "*/*",
        "accept-encoding": "gzip, br",
        "accept-language": "en-GB,en-US;q=0.9,en;q=0.8",
        "cache-control": "no-cache",
        "cf-connecting-ip": "195.240.81.42",
        "cf-device-type": "desktop",
        "cf-ipcountry": "NL",
        "cf-ray": "94e88f2f6a820b40",
        "cf-visitor": "{\"scheme\":\"https\"}",
        "connection": "Keep-Alive",
        "cookie": "REDACTED",
        "dnt": "1",
        "host": "cdn.erfi.dev",
        "pragma": "no-cache",
        "priority": "i",
        "range": "bytes=0-",
        "referer": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
        "sec-ch-ua": "\"Google Chrome\";v=\"137\", \"Chromium\";v=\"137\", \"Not/A)Brand\";v=\"24\"",
        "sec-ch-ua-mobile": "?0",
        "sec-ch-ua-platform": "\"Windows\"",
        "sec-fetch-dest": "video",
        "sec-fetch-mode": "no-cors",
        "sec-fetch-site": "same-origin",
        "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36",
        "x-forwarded-proto": "https",
        "x-real-ip": "195.240.81.42"
      },
      "cf": {
        "requestHeaderNames": {},
        "httpProtocol": "HTTP/3",
        "tlsCipher": "AEAD-AES128-GCM-SHA256",
        "city": "'s-Hertogenbosch",
        "continent": "EU",
        "asn": 1136,
        "clientAcceptEncoding": "identity;q=1, *;q=0",
        "verifiedBotCategory": "",
        "country": "NL",
        "isEUCountry": "1",
        "botManagement": {
          "jsDetection": {
            "passed": false
          },
          "ja4Signals": {
            "h2h3_ratio_1h": 1,
            "heuristic_ratio_1h": 0.00094815681222826,
            "reqs_quantile_1h": 0.99998784065247,
            "uas_rank_1h": 22,
            "browser_ratio_1h": 0.9394137263298,
            "paths_rank_1h": 9,
            "reqs_rank_1h": 9,
            "cache_ratio_1h": 0.31212079524994,
            "ips_rank_1h": 10,
            "ips_quantile_1h": 0.99998646974564
          },
          "staticResource": false,
          "corporateProxy": false,
          "ja4": "q13d0312h3_55b375c5d22e_5a06198afb93",
          "verifiedBot": false,
          "ja3Hash": "b830205e8c7e77f66e83c92b44d9866d",
          "score": 99,
          "detectionIds": {}
        },
        "region": "North Brabant",
        "tlsClientCiphersSha1": "",
        "tlsClientAuth": {
          "certIssuerDNLegacy": "",
          "certIssuerSKI": "",
          "certSubjectDNRFC2253": "",
          "certSubjectDNLegacy": "",
          "certFingerprintSHA256": "",
          "certNotBefore": "",
          "certSKI": "",
          "certSerial": "",
          "certIssuerDN": "",
          "certVerified": "NONE",
          "certNotAfter": "",
          "certSubjectDN": "",
          "certPresented": "0",
          "certRevoked": "0",
          "certIssuerSerial": "",
          "certIssuerDNRFC2253": "",
          "certFingerprintSHA1": ""
        },
        "tlsClientRandom": "8LEMoBtRnUqz9WlJ6PIt7gwLlKMRvtzMJzeENZYMd3Q=",
        "tlsClientHelloLength": "2014",
        "colo": "AMS",
        "timezone": "Europe/Amsterdam",
        "longitude": "5.30417",
        "latitude": "51.69917",
        "edgeRequestKeepAliveStatus": 1,
        "requestPriority": "",
        "postalCode": "5212",
        "clientTrustScore": 99,
        "tlsVersion": "TLSv1.3",
        "regionCode": "NB",
        "asOrganization": "KPN B.V.",
        "tlsClientExtensionsSha1Le": "",
        "tlsClientExtensionsSha1": "zP4qkNym759zoype3BXDNG7Ndwc="
      }
    },
    "response": {
      "status": 206
    }
  }
}
{
  "wallTime": 5078,
  "cpuTime": 71,
  "truncated": false,
  "executionModel": "stateless",
  "outcome": "ok",
  "scriptVersion": {
    "id": "923b188a-aaed-40ee-9996-30d5f24a3e72"
  },
  "scriptName": "video-resizer-production",
  "diagnosticsChannelEvents": [],
  "exceptions": [],
  "logs": [
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Worker",
          "message": "Incoming request",
          "elapsedMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        {
          "time": 1749723034298,
          "level": 30,
          "requestId": "e31367a5-a3d1-450b-b2bb-4d53c7cc2b25",
          "method": "GET",
          "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
          "pathname": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "search": "?imwidth=1920",
          "elapsedMs": 0,
          "category": "Worker",
          "breadcrumb": {
            "timestamp": 1749723034298,
            "category": "Worker",
            "message": "Incoming request",
            "data": {
              "method": "GET",
              "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
              "pathname": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "search": "?imwidth=1920"
            },
            "elapsedMs": 0
          },
          "breadcrumbsCount": 1,
          "msg": "Incoming request"
        }
      ],
      "level": "info",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Worker",
          "message": "Checking file extension for passthrough",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Loaded debug config",
        {
          "enabled": true,
          "verbose": false
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Passthrough",
          "message": "Detected file extension",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Worker",
          "message": "Using Origins configuration for video request",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        {
          "time": 1749723034298,
          "level": 30,
          "requestId": "e31367a5-a3d1-450b-b2bb-4d53c7cc2b25",
          "originsCount": 10,
          "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
          "path": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "elapsedMs": 0,
          "category": "Worker",
          "breadcrumb": {
            "timestamp": 1749723034298,
            "category": "Worker",
            "message": "Using Origins configuration for video request",
            "data": {
              "originsCount": 10,
              "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
              "path": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4"
            },
            "elapsedMs": 0,
            "durationMs": 0
          },
          "breadcrumbsCount": 4,
          "msg": "Using Origins configuration for video request"
        }
      ],
      "level": "info",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Origins",
          "message": "Using Origins configuration",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Set current request context",
        {
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
          "timestamp": "2025-06-12T10:10:34.298Z"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Environment variables received",
          "elapsedMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Request",
          "message": "Started total-request-processing",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Request",
          "message": "Started processing with Origins handler",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Request",
          "message": "Request received",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Loaded debug config",
        {
          "enabled": true,
          "verbose": false
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Checking KV cache",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Started cache-lookup",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCache",
          "message": "Started kv-cache-lookup",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Using cached derivative mapping",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Applied derivative configuration for caching",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Client",
          "message": "Matched IMQuery dimensions to derivative",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Applied derivative based on IMQuery dimensions",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        {
          "time": 1749723034298,
          "level": 30,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "requestedWidth": 1920,
          "requestedHeight": null,
          "derivative": "desktop",
          "appliedWidth": 1920,
          "appliedHeight": 1080,
          "mappingMethod": "breakpoint",
          "source": "imquery-derivative",
          "elapsedMs": 0,
          "category": "IMQuery",
          "breadcrumb": {
            "timestamp": 1749723034298,
            "category": "IMQuery",
            "message": "Applied derivative based on IMQuery dimensions",
            "data": {
              "requestedWidth": 1920,
              "requestedHeight": null,
              "derivative": "desktop",
              "appliedWidth": 1920,
              "appliedHeight": 1080,
              "mappingMethod": "breakpoint",
              "source": "imquery-derivative"
            },
            "elapsedMs": 0,
            "durationMs": 0
          },
          "breadcrumbsCount": 11,
          "msg": "Applied derivative based on IMQuery dimensions"
        }
      ],
      "level": "info",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Converted IMQuery to client hints",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Enhanced request with IMQuery client hints",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        {
          "time": 1749723034298,
          "level": 30,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "addedHeaders": {
            "Width": "1920"
          },
          "elapsedMs": 0,
          "category": "IMQuery",
          "breadcrumb": {
            "timestamp": 1749723034298,
            "category": "IMQuery",
            "message": "Enhanced request with IMQuery client hints",
            "data": {
              "addedHeaders": {
                "Width": "1920"
              }
            },
            "elapsedMs": 0,
            "durationMs": 0
          },
          "breadcrumbsCount": 13,
          "msg": "Enhanced request with IMQuery client hints"
        }
      ],
      "level": "info",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Client",
          "message": "Converted IMQuery to client hints",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Client",
          "message": "Using explicit dimensions",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Applied origin options for cache lookup",
          "elapsedMs": "0.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034298
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheVersionService",
          "message": "Found cache key version",
          "elapsedMs": "4.00",
          "durationMs": "4.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034302
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Retrieved cache key version",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034302
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Retrieved cache version for lookup",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034302
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Checking KV cache",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034302
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Checking KV cache for video",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034302
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Initializing environment configuration",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034302
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment determined",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034302
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment configuration parsing",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034302
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "No PATH_PATTERNS configuration provided",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034302
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment configuration completed",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034302
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Config",
          "message": "KV cache configuration from environment and cache config",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034302
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Using configured bypass parameters",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034302
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Range request detected",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034302
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[GET_VIDEO] Attempting to retrieve video",
          "elapsedMs": "4.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034302
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[GET_VIDEO] Base key not found",
          "elapsedMs": "8.00",
          "durationMs": "4.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheVersionService",
          "message": "Found cache key version",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Retrieved cache key version",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheVersionService",
          "message": "Generated next cache key version",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[GET_VIDEO] Incremented version on cache miss",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCache",
          "message": "KV cache miss",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "KV cache miss",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCache",
          "message": "Completed kv-cache-lookup",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCache",
          "message": "KV cache miss",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheVersionService",
          "message": "Found cache key version",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Retrieved cache key version",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Completed cache-lookup",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Origins",
          "message": "Matched origin",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Matched origin for request",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Origins",
          "message": "Resolved source",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Resolved path to source",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Using cached derivative mapping",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Applied derivative configuration for caching",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Client",
          "message": "Matched IMQuery dimensions to derivative",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Applied derivative based on IMQuery dimensions",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        {
          "time": 1749723034306,
          "level": 30,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "requestedWidth": 1920,
          "requestedHeight": null,
          "derivative": "desktop",
          "appliedWidth": 1920,
          "appliedHeight": 1080,
          "mappingMethod": "breakpoint",
          "source": "imquery-derivative",
          "elapsedMs": 8,
          "category": "IMQuery",
          "breadcrumb": {
            "timestamp": 1749723034306,
            "category": "IMQuery",
            "message": "Applied derivative based on IMQuery dimensions",
            "data": {
              "requestedWidth": 1920,
              "requestedHeight": null,
              "derivative": "desktop",
              "appliedWidth": 1920,
              "appliedHeight": 1080,
              "mappingMethod": "breakpoint",
              "source": "imquery-derivative"
            },
            "elapsedMs": 8,
            "durationMs": 0
          },
          "breadcrumbsCount": 50,
          "msg": "Applied derivative based on IMQuery dimensions"
        }
      ],
      "level": "info",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Converted IMQuery to client hints",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "IMQuery",
          "message": "Enhanced request with IMQuery client hints",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        {
          "time": 1749723034306,
          "level": 30,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "addedHeaders": {
            "Width": "1920"
          },
          "elapsedMs": 8,
          "category": "IMQuery",
          "breadcrumb": {
            "timestamp": 1749723034306,
            "category": "IMQuery",
            "message": "Enhanced request with IMQuery client hints",
            "data": {
              "addedHeaders": {
                "Width": "1920"
              }
            },
            "elapsedMs": 8,
            "durationMs": 0
          },
          "breadcrumbsCount": 52,
          "msg": "Enhanced request with IMQuery client hints"
        }
      ],
      "level": "info",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Client",
          "message": "Converted IMQuery to client hints",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Client",
          "message": "Using explicit dimensions",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Using cache version for transformation",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Initiating new transformation",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Transform",
          "message": "Started video-transformation",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Transforming video with Origins",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CommandInit",
          "message": "TransformVideoCommand Initialized",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "TransformVideoCommand",
          "message": "Starting execution",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Execution",
          "message": "Command execution started",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "TransformVideoCommand",
          "message": "Using Origins-based transformation",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Origins",
          "message": "Using Origins-based transformation",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Context",
          "message": "Gathering client capabilities",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "UserAgentUtils",
          "message": "Detecting browser capabilities from User-Agent",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "UserAgentUtils",
          "message": "Browser capabilities detection result",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "ClientHints",
          "message": "Client Hints Headers",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "ClientHints",
          "message": "Network Quality Metrics",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Initializing environment configuration",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment determined",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment configuration parsing",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "No PATH_PATTERNS configuration provided",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment configuration completed",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        {
          "time": 1749723034306,
          "level": 20,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "msg": "Retrieved derivative dimensions"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CDN-CGI",
          "message": "Using derivative dimensions for desktop",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        {
          "time": 1749723034306,
          "level": 30,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "derivative": "desktop",
          "originalWidth": 1920,
          "originalHeight": 1080,
          "derivativeWidth": 1920,
          "derivativeHeight": 1080,
          "elapsedMs": 8,
          "category": "CDN-CGI",
          "breadcrumb": {
            "timestamp": 1749723034306,
            "category": "CDN-CGI",
            "message": "Using derivative dimensions for desktop",
            "data": {
              "derivative": "desktop",
              "originalWidth": 1920,
              "originalHeight": 1080,
              "derivativeWidth": 1920,
              "derivativeHeight": 1080
            },
            "elapsedMs": 8,
            "durationMs": 0
          },
          "breadcrumbsCount": 74,
          "msg": "Using derivative dimensions for desktop"
        }
      ],
      "level": "info",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "TransformVideoCommand",
          "message": "Added version parameter to CDN-CGI URL for cache busting",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CDN-CGI",
          "message": "Created CDN-CGI URL: https://cdn.erfi.dev/cdn-cgi/media/width=1920,height=1080,mode=video,fit=contain,compression=auto,duration=5m,audio=true,loop=true,autoplay=false,muted=false/https://r2.www.cte.ikeadt.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?v=3",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        {
          "time": 1749723034306,
          "level": 30,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "url": "https://cdn.erfi.dev/cdn-cgi/media/width=1920,height=1080,mode=video,fit=contain,compression=auto,duration=5m,audio=true,loop=true,autoplay=false,muted=false/https://r2.www.cte.ikeadt.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?v=3",
          "sourceUrl": "https://r2.www.cte.ikeadt.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "params": "width=1920,height=1080,mode=video,fit=contain,compression=auto,duration=5m,audio=true,loop=true,autoplay=false,muted=false",
          "originType": "remote",
          "urlLength": 255,
          "isIMQuery": true,
          "derivative": "desktop",
          "imqueryDimensions": {
            "requestedWidth": 1920,
            "requestedHeight": 1080,
            "actualWidth": 1920,
            "actualHeight": 1080,
            "usingDerivativeDimensions": false
          },
          "elapsedMs": 8,
          "category": "CDN-CGI",
          "breadcrumb": {
            "timestamp": 1749723034306,
            "category": "CDN-CGI",
            "message": "Created CDN-CGI URL: https://cdn.erfi.dev/cdn-cgi/media/width=1920,height=1080,mode=video,fit=contain,compression=auto,duration=5m,audio=true,loop=true,autoplay=false,muted=false/https://r2.www.cte.ikeadt.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?v=3",
            "data": {
              "url": "https://cdn.erfi.dev/cdn-cgi/media/width=1920,height=1080,mode=video,fit=contain,compression=auto,duration=5m,audio=true,loop=true,autoplay=false,muted=false/https://r2.www.cte.ikeadt.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?v=3",
              "sourceUrl": "https://r2.www.cte.ikeadt.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "params": "width=1920,height=1080,mode=video,fit=contain,compression=auto,duration=5m,audio=true,loop=true,autoplay=false,muted=false",
              "originType": "remote",
              "urlLength": 255,
              "isIMQuery": true,
              "derivative": "desktop",
              "imqueryDimensions": {
                "requestedWidth": 1920,
                "requestedHeight": 1080,
                "actualWidth": 1920,
                "actualHeight": 1080,
                "usingDerivativeDimensions": false
              }
            },
            "elapsedMs": 8,
            "durationMs": 0
          },
          "breadcrumbsCount": 76,
          "msg": "Created CDN-CGI URL: https://cdn.erfi.dev/cdn-cgi/media/width=1920,height=1080,mode=video,fit=contain,compression=auto,duration=5m,audio=true,loop=true,autoplay=false,muted=false/https://r2.www.cte.ikeadt.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?v=3"
        }
      ],
      "level": "info",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Transformation",
          "message": "Created CDN-CGI URL",
          "elapsedMs": "8.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034306
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheVersionService",
          "message": "Stored cache key version in metadata",
          "elapsedMs": "309.00",
          "durationMs": "301.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034607
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Stored cache key version",
          "elapsedMs": "309.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723034607
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "TransformVideoCommand",
          "message": "Handling 404 error with retry mechanism",
          "elapsedMs": "1451.00",
          "durationMs": "621.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035749
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "retryWithAlternativeOrigins",
          "message": "Starting retry after 404 error",
          "elapsedMs": "1451.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035749
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Retry",
          "message": "Attempting alternative origins after 404",
          "elapsedMs": "1451.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035749
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "retryWithAlternativeOrigins",
          "message": "Fetching video with exclusions",
          "elapsedMs": "1451.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035749
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Storage",
          "message": "Starting video fetch operation (Origins)",
          "elapsedMs": "1451.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035749
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "[cuq31pkd] Starting video fetch operation with Origins",
          "elapsedMs": "1451.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035749
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Video fetch request analysis with Origins",
          "elapsedMs": "1451.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035749
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Found matching origins for path",
          "elapsedMs": "1451.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035749
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Applied source exclusions",
          "elapsedMs": "1451.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035749
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Trying origin for path",
          "elapsedMs": "1451.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035749
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Trying fallback source",
          "elapsedMs": "1451.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035749
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Attempting fallback fetch",
          "elapsedMs": "1451.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035749
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Fallback path after transformation",
          "elapsedMs": "1451.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035749
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Fallback auth not enabled for this URL",
          "elapsedMs": "1451.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035749
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Fetching from fallback URL",
          "elapsedMs": "1451.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035749
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Starting background streaming of fallback to KV",
          "elapsedMs": "1603.00",
          "durationMs": "152.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035901
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Initiating background storage of fallback content",
          "elapsedMs": "1603.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035901
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Initiating storage for key",
          "elapsedMs": "1603.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035901
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Fallback fetch successful (Origins)",
          "elapsedMs": "1603.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035901
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Storage",
          "message": "Fallback fetch successful (Origins)",
          "elapsedMs": "1603.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035901
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "[cuq31pkd] Successfully found video with Origins",
          "elapsedMs": "1603.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035901
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "retryWithAlternativeOrigins",
          "message": "Found video in alternative source",
          "elapsedMs": "1603.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035901
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Retry",
          "message": "Alternative source successful",
          "elapsedMs": "1603.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035901
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "retryWithAlternativeOrigins",
          "message": "Preparing transformation with alternative origin",
          "elapsedMs": "1603.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035901
    },
    {
      "message": [
        "[PathUtils-Compat] Building CDN-CGI media URL",
        {
          "cdnCgiBasePath": "/cdn-cgi/media",
          "transformParams": {
            "width": 1920,
            "height": 1080,
            "fit": "contain",
            "duration": "5m"
          },
          "parameterString": "width=1920,height=1080,fit=contain,duration=5m",
          "originalOriginUrl": "https://ikea.getbynder.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "finalOriginUrl": "https://ikea.getbynder.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "requestUrl": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
          "baseUrl": "https://cdn.erfi.dev",
          "transformedUrl": "https://cdn.erfi.dev/cdn-cgi/media/width=1920,height=1080,fit=contain,duration=5m/https://ikea.getbynder.com/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "paramCount": 4,
          "keyParams": {
            "width": 1920,
            "height": 1080,
            "fit": "contain",
            "duration": "5m"
          },
          "hasDuration": true
        }
      ],
      "level": "debug",
      "timestamp": 1749723035901
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "retryWithAlternativeOrigins",
          "message": "Attempting transformation with alternative origin",
          "elapsedMs": "1603.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035901
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheResponseUtils",
          "message": "Starting response preparation for possible range handling",
          "elapsedMs": "1603.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035901
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheResponseUtils",
          "message": "Using original request with Range header for fetch",
          "elapsedMs": "1603.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035901
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CDN-CGI",
          "message": "Built media transformation URL",
          "elapsedMs": "1603.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035901
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheResponseUtils",
          "message": "Handling range request manually",
          "elapsedMs": "1666.00",
          "durationMs": "63.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheResponseUtils",
          "message": "Starting manual range handling",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheResponseUtils",
          "message": "Started manual streaming range response",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "retryWithAlternativeOrigins",
          "message": "Transformation successful with alternative source",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Transformation completed successfully",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Transform",
          "message": "Completed video-transformation",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Cleaned up in-flight transformation",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Storing response in KV (background)",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Initializing environment configuration",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment determined",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment configuration parsing",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "No PATH_PATTERNS configuration provided",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "EnvironmentConfig",
          "message": "Environment configuration completed",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Config",
          "message": "KV cache configuration from environment and cache config",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "TTLDetermination",
          "message": "Using global cache TTL settings",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Determined TTL for caching based on content type",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Determined content length for KV storage calculation",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Content size details for KV storage",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Attempting to store in KV cache",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Using waitUntil for non-blocking KV storage",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Initiating storage for key",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Started async KV storage operation",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCache",
          "message": "Stored in KV cache",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Successfully stored in KV cache",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Successfully stored in KV (background)",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "RangeRequest",
          "message": "Processing range request for initial access",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "RangeRequest",
          "message": "Started initial-range-handling",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "RangeRequest",
          "message": "Range request handled for initial access",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "RangeRequest",
          "message": "Completed initial-range-handling",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Response",
          "message": "Started response-building",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "ResponseBuilder",
          "message": "Building response with debug configuration",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        {
          "time": 1749723035964,
          "level": 20,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "debugEnabled": true,
          "verboseEnabled": false,
          "elapsedMs": 1666,
          "category": "ResponseBuilder",
          "breadcrumb": {
            "timestamp": 1749723035964,
            "category": "ResponseBuilder",
            "message": "Building response with debug configuration",
            "data": {
              "debugEnabled": true,
              "verboseEnabled": false
            },
            "elapsedMs": 1666,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "Building response with debug configuration"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Using cache tag prefix from configuration",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        {
          "time": 1749723035964,
          "level": 20,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "configuredPrefix": "video-prod-",
          "shortPrefix": "vp-",
          "source": "CacheConfigurationManager",
          "elapsedMs": 1666,
          "category": "VideoStorageService",
          "breadcrumb": {
            "timestamp": 1749723035964,
            "category": "VideoStorageService",
            "message": "Using cache tag prefix from configuration",
            "data": {
              "configuredPrefix": "video-prod-",
              "shortPrefix": "vp-",
              "source": "CacheConfigurationManager"
            },
            "elapsedMs": 1666,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "Using cache tag prefix from configuration"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Generating cache tags",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        {
          "time": 1749723035964,
          "level": 20,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "videoPath": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "hasOptions": true,
          "hasHeaders": true,
          "prefix": "vp-",
          "elapsedMs": 1666,
          "category": "VideoStorageService",
          "breadcrumb": {
            "timestamp": 1749723035964,
            "category": "VideoStorageService",
            "message": "Generating cache tags",
            "data": {
              "videoPath": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "hasOptions": true,
              "hasHeaders": true,
              "prefix": "vp-"
            },
            "elapsedMs": 1666,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "Generating cache tags"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Generated cache tags",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        {
          "time": 1749723035964,
          "level": 20,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "tagCount": 3,
          "generationTime": 0,
          "elapsedMs": 1666,
          "category": "VideoStorageService",
          "breadcrumb": {
            "timestamp": 1749723035964,
            "category": "VideoStorageService",
            "message": "Generated cache tags",
            "data": {
              "tagCount": 3,
              "generationTime": 0
            },
            "elapsedMs": 1666,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "Generated cache tags"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoHandlerWithOrigins",
          "message": "Applying cache tags to final response",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        {
          "time": 1749723035964,
          "level": 20,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "tagCount": 3,
          "elapsedMs": 1666,
          "category": "VideoHandlerWithOrigins",
          "breadcrumb": {
            "timestamp": 1749723035964,
            "category": "VideoHandlerWithOrigins",
            "message": "Applying cache tags to final response",
            "data": {
              "tagCount": 3
            },
            "elapsedMs": 1666,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "Applying cache tags to final response"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Applied Cache-Tags to final response",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Response",
          "message": "Processing headers for response",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Response",
          "message": "Building response with enhanced streaming support",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Response",
          "message": "Creating 206 Partial Content response",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Response",
          "message": "Completed response-building",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Request",
          "message": "Completed total-request-processing",
          "elapsedMs": "1666.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035964
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheResponseUtils",
          "message": "Completed streaming range request",
          "elapsedMs": "1669.00",
          "durationMs": "3.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        {
          "time": 1749723035967,
          "level": 20,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "bytesRead": 1404380,
          "bytesWritten": 0,
          "expectedBytes": 1404380,
          "processTimeMs": 3,
          "elapsedMs": 1669,
          "category": "CacheResponseUtils",
          "breadcrumb": {
            "timestamp": 1749723035967,
            "category": "CacheResponseUtils",
            "message": "Completed streaming range request",
            "data": {
              "bytesRead": 1404380,
              "bytesWritten": 0,
              "expectedBytes": 1404380,
              "processTimeMs": 3
            },
            "elapsedMs": 1669,
            "durationMs": 3
          },
          "durationMs": 3,
          "breadcrumbsCount": 100,
          "msg": "Completed streaming range request"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Video successfully buffered",
          "elapsedMs": "1669.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        {
          "time": 1749723035967,
          "level": 20,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
          "totalActualVideoBytes": 1404380,
          "contentType": "video/mp4",
          "elapsedMs": 1669,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723035967,
            "category": "KVStorageService",
            "message": "[STORE_VIDEO] Video successfully buffered",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
              "totalActualVideoBytes": 1404380,
              "contentType": "video/mp4"
            },
            "elapsedMs": 1669,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "[STORE_VIDEO] Video successfully buffered"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Storing as single KV entry",
          "elapsedMs": "1669.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        {
          "time": 1749723035967,
          "level": 20,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
          "size": 1404380,
          "usingSingleEntry": true,
          "elapsedMs": 1669,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723035967,
            "category": "KVStorageService",
            "message": "[STORE_VIDEO] Storing as single KV entry",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
              "size": 1404380,
              "usingSingleEntry": true
            },
            "elapsedMs": 1669,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "[STORE_VIDEO] Storing as single KV entry"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Using cache tag prefix from configuration",
          "elapsedMs": "1669.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        {
          "time": 1749723035967,
          "level": 20,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "configuredPrefix": "video-prod-",
          "shortPrefix": "vp-",
          "source": "CacheConfigurationManager",
          "elapsedMs": 1669,
          "category": "VideoStorageService",
          "breadcrumb": {
            "timestamp": 1749723035967,
            "category": "VideoStorageService",
            "message": "Using cache tag prefix from configuration",
            "data": {
              "configuredPrefix": "video-prod-",
              "shortPrefix": "vp-",
              "source": "CacheConfigurationManager"
            },
            "elapsedMs": 1669,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "Using cache tag prefix from configuration"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Generating cache tags",
          "elapsedMs": "1669.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        {
          "time": 1749723035967,
          "level": 20,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "videoPath": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "hasOptions": true,
          "hasHeaders": true,
          "prefix": "vp-",
          "elapsedMs": 1669,
          "category": "VideoStorageService",
          "breadcrumb": {
            "timestamp": 1749723035967,
            "category": "VideoStorageService",
            "message": "Generating cache tags",
            "data": {
              "videoPath": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "hasOptions": true,
              "hasHeaders": true,
              "prefix": "vp-"
            },
            "elapsedMs": 1669,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "Generating cache tags"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Generated cache tags",
          "elapsedMs": "1669.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        {
          "time": 1749723035967,
          "level": 20,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "tagCount": 3,
          "generationTime": 0,
          "elapsedMs": 1669,
          "category": "VideoStorageService",
          "breadcrumb": {
            "timestamp": 1749723035967,
            "category": "VideoStorageService",
            "message": "Generated cache tags",
            "data": {
              "tagCount": 3,
              "generationTime": 0
            },
            "elapsedMs": 1669,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "Generated cache tags"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        {
          "time": 1749723035967,
          "level": 20,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "msg": "Retrieved derivative dimensions"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Preparing to PUT single entry",
          "elapsedMs": "1669.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        {
          "time": 1749723035967,
          "level": 20,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
          "size": 1404380,
          "metadata": {
            "mode": "video",
            "derivative": "desktop",
            "cacheTags": [
              "vp-p-original-PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "vp-p-original-PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4-desktop",
              "vp-d-desktop"
            ],
            "cacheVersion": 3,
            "contentType": "video/mp4",
            "contentLength": 1404380,
            "createdAt": 1749723035967,
            "customData": {
              "requestedWidth": 1920,
              "requestedHeight": 1080
            },
            "width": 1920,
            "height": 1080,
            "expiresAt": 1749723335967,
            "storeIndefinitely": true,
            "isChunked": false,
            "actualTotalVideoSize": 1404380
          },
          "elapsedMs": 1669,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723035967,
            "category": "KVStorageService",
            "message": "[STORE_VIDEO] Preparing to PUT single entry",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
              "size": 1404380,
              "metadata": {
                "mode": "video",
                "derivative": "desktop",
                "cacheTags": [
                  "vp-p-original-PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
                  "vp-p-original-PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4-desktop",
                  "vp-d-desktop"
                ],
                "cacheVersion": 3,
                "contentType": "video/mp4",
                "contentLength": 1404380,
                "createdAt": 1749723035967,
                "customData": {
                  "requestedWidth": 1920,
                  "requestedHeight": 1080
                },
                "width": 1920,
                "height": 1080,
                "expiresAt": 1749723335967,
                "storeIndefinitely": true,
                "isChunked": false,
                "actualTotalVideoSize": 1404380
              }
            },
            "elapsedMs": 1669,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "[STORE_VIDEO] Preparing to PUT single entry"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_HELPER] Preparing to store data",
          "elapsedMs": "1669.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        {
          "time": 1749723035967,
          "level": 20,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
          "valueSize": 1404380,
          "isArrayBuffer": true,
          "elapsedMs": 1669,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723035967,
            "category": "KVStorageService",
            "message": "[STORE_HELPER] Preparing to store data",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
              "valueSize": 1404380,
              "isArrayBuffer": true
            },
            "elapsedMs": 1669,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "[STORE_HELPER] Preparing to store data"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_HELPER] Storage size diagnostics",
          "elapsedMs": "1669.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        {
          "time": 1749723035967,
          "level": 20,
          "requestId": "2e164e29-b85d-4ee7-a5d6-017cb693c205",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
          "keySize": 88,
          "metadataSize": 460,
          "cacheTags": 3,
          "cacheTagsSize": 128,
          "elapsedMs": 1669,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723035967,
            "category": "KVStorageService",
            "message": "[STORE_HELPER] Storage size diagnostics",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
              "keySize": 88,
              "metadataSize": 460,
              "cacheTags": 3,
              "cacheTagsSize": 128
            },
            "elapsedMs": 1669,
            "durationMs": 0
          },
          "breadcrumbsCount": 100,
          "msg": "[STORE_HELPER] Storage size diagnostics"
        }
      ],
      "level": "debug",
      "timestamp": 1749723035967
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Video successfully buffered",
          "elapsedMs": "25.00",
          "durationMs": "12.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036095
    },
    {
      "message": [
        {
          "time": 1749723036095,
          "level": 20,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "totalActualVideoBytes": 15163697,
          "contentType": "video/mp4",
          "elapsedMs": 25,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723036095,
            "category": "KVStorageService",
            "message": "[STORE_VIDEO] Video successfully buffered",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "totalActualVideoBytes": 15163697,
              "contentType": "video/mp4"
            },
            "elapsedMs": 25,
            "durationMs": 12
          },
          "durationMs": 12,
          "breadcrumbsCount": 47,
          "msg": "[STORE_VIDEO] Video successfully buffered"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036095
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Storing as single KV entry",
          "elapsedMs": "25.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036095
    },
    {
      "message": [
        {
          "time": 1749723036095,
          "level": 20,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "size": 15163697,
          "usingSingleEntry": true,
          "elapsedMs": 25,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723036095,
            "category": "KVStorageService",
            "message": "[STORE_VIDEO] Storing as single KV entry",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "size": 15163697,
              "usingSingleEntry": true
            },
            "elapsedMs": 25,
            "durationMs": 0
          },
          "breadcrumbsCount": 48,
          "msg": "[STORE_VIDEO] Storing as single KV entry"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036095
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Using cache tag prefix from configuration",
          "elapsedMs": "25.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036095
    },
    {
      "message": [
        {
          "time": 1749723036095,
          "level": 20,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "configuredPrefix": "video-prod-",
          "shortPrefix": "vp-",
          "source": "CacheConfigurationManager",
          "elapsedMs": 25,
          "category": "VideoStorageService",
          "breadcrumb": {
            "timestamp": 1749723036095,
            "category": "VideoStorageService",
            "message": "Using cache tag prefix from configuration",
            "data": {
              "configuredPrefix": "video-prod-",
              "shortPrefix": "vp-",
              "source": "CacheConfigurationManager"
            },
            "elapsedMs": 25,
            "durationMs": 0
          },
          "breadcrumbsCount": 49,
          "msg": "Using cache tag prefix from configuration"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036095
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Generating cache tags",
          "elapsedMs": "25.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036095
    },
    {
      "message": [
        {
          "time": 1749723036095,
          "level": 20,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "videoPath": "m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "hasOptions": true,
          "hasHeaders": true,
          "prefix": "vp-",
          "elapsedMs": 25,
          "category": "VideoStorageService",
          "breadcrumb": {
            "timestamp": 1749723036095,
            "category": "VideoStorageService",
            "message": "Generating cache tags",
            "data": {
              "videoPath": "m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "hasOptions": true,
              "hasHeaders": true,
              "prefix": "vp-"
            },
            "elapsedMs": 25,
            "durationMs": 0
          },
          "breadcrumbsCount": 50,
          "msg": "Generating cache tags"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036095
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Generated cache tags",
          "elapsedMs": "25.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036095
    },
    {
      "message": [
        {
          "time": 1749723036095,
          "level": 20,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "tagCount": 1,
          "generationTime": 0,
          "elapsedMs": 25,
          "category": "VideoStorageService",
          "breadcrumb": {
            "timestamp": 1749723036095,
            "category": "VideoStorageService",
            "message": "Generated cache tags",
            "data": {
              "tagCount": 1,
              "generationTime": 0
            },
            "elapsedMs": 25,
            "durationMs": 0
          },
          "breadcrumbsCount": 51,
          "msg": "Generated cache tags"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036095
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Preparing to PUT single entry",
          "elapsedMs": "25.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036095
    },
    {
      "message": [
        {
          "time": 1749723036095,
          "level": 20,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "size": 15163697,
          "metadata": {
            "mode": "video",
            "cacheTags": [
              "vp-p-original-PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4"
            ],
            "cacheVersion": 1,
            "contentType": "video/mp4",
            "contentLength": 15163697,
            "createdAt": 1749723036095,
            "customData": {},
            "width": null,
            "height": null,
            "expiresAt": 1749726636095,
            "storeIndefinitely": true,
            "isChunked": false,
            "actualTotalVideoSize": 15163697
          },
          "elapsedMs": 25,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723036095,
            "category": "KVStorageService",
            "message": "[STORE_VIDEO] Preparing to PUT single entry",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "size": 15163697,
              "metadata": {
                "mode": "video",
                "cacheTags": [
                  "vp-p-original-PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4"
                ],
                "cacheVersion": 1,
                "contentType": "video/mp4",
                "contentLength": 15163697,
                "createdAt": 1749723036095,
                "customData": {},
                "width": null,
                "height": null,
                "expiresAt": 1749726636095,
                "storeIndefinitely": true,
                "isChunked": false,
                "actualTotalVideoSize": 15163697
              }
            },
            "elapsedMs": 25,
            "durationMs": 0
          },
          "breadcrumbsCount": 52,
          "msg": "[STORE_VIDEO] Preparing to PUT single entry"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036095
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_HELPER] Preparing to store data",
          "elapsedMs": "25.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036095
    },
    {
      "message": [
        {
          "time": 1749723036095,
          "level": 20,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "valueSize": 15163697,
          "isArrayBuffer": true,
          "elapsedMs": 25,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723036095,
            "category": "KVStorageService",
            "message": "[STORE_HELPER] Preparing to store data",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "valueSize": 15163697,
              "isArrayBuffer": true
            },
            "elapsedMs": 25,
            "durationMs": 0
          },
          "breadcrumbsCount": 53,
          "msg": "[STORE_HELPER] Preparing to store data"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036095
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_HELPER] Storage size diagnostics",
          "elapsedMs": "25.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036095
    },
    {
      "message": [
        {
          "time": 1749723036095,
          "level": 20,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "keySize": 69,
          "metadataSize": 320,
          "cacheTags": 1,
          "cacheTagsSize": 53,
          "elapsedMs": 25,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723036095,
            "category": "KVStorageService",
            "message": "[STORE_HELPER] Storage size diagnostics",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "keySize": 69,
              "metadataSize": 320,
              "cacheTags": 1,
              "cacheTagsSize": 53
            },
            "elapsedMs": 25,
            "durationMs": 0
          },
          "breadcrumbsCount": 54,
          "msg": "[STORE_HELPER] Storage size diagnostics"
        }
      ],
      "level": "debug",
      "timestamp": 1749723036095
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Stored cache version in KV",
          "elapsedMs": "1481.00",
          "durationMs": "1456.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723037551
    },
    {
      "message": [
        {
          "time": 1749723037551,
          "level": 20,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
          "cacheVersion": 3,
          "versionTtl": "indefinite",
          "elapsedMs": 1481,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723037551,
            "category": "KVStorageService",
            "message": "[STORE_VIDEO] Stored cache version in KV",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
              "cacheVersion": 3,
              "versionTtl": "indefinite"
            },
            "elapsedMs": 1481,
            "durationMs": 1456
          },
          "durationMs": 1456,
          "breadcrumbsCount": 55,
          "msg": "[STORE_VIDEO] Stored cache version in KV"
        }
      ],
      "level": "debug",
      "timestamp": 1749723037551
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Stored transformed video in KV",
          "elapsedMs": "1481.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723037551
    },
    {
      "message": [
        {
          "time": 1749723037551,
          "level": 20,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
          "size": 1404380,
          "ttl": "indefinite (storeIndefinitely=true)",
          "cacheVersion": 3,
          "isChunked": false,
          "elapsedMs": 1481,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723037551,
            "category": "KVStorageService",
            "message": "[STORE_VIDEO] Stored transformed video in KV",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
              "size": 1404380,
              "ttl": "indefinite (storeIndefinitely=true)",
              "cacheVersion": 3,
              "isChunked": false
            },
            "elapsedMs": 1481,
            "durationMs": 0
          },
          "breadcrumbsCount": 56,
          "msg": "[STORE_VIDEO] Stored transformed video in KV"
        }
      ],
      "level": "debug",
      "timestamp": 1749723037551
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KV",
          "message": "Stored transformed video in KV",
          "elapsedMs": "1481.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723037551
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCacheUtils",
          "message": "Async KV storage operation completed",
          "elapsedMs": "1481.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723037551
    },
    {
      "message": [
        {
          "time": 1749723037551,
          "level": 20,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "sourcePath": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "mode": "video",
          "derivative": "desktop",
          "hasIMQuery": false,
          "success": true,
          "endTime": "2025-06-12T10:10:37.551Z",
          "storageKey": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
          "elapsedMs": 1481,
          "category": "KVCacheUtils",
          "breadcrumb": {
            "timestamp": 1749723037551,
            "category": "KVCacheUtils",
            "message": "Async KV storage operation completed",
            "data": {
              "sourcePath": "/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "mode": "video",
              "derivative": "desktop",
              "hasIMQuery": false,
              "success": true,
              "endTime": "2025-06-12T10:10:37.551Z",
              "storageKey": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop"
            },
            "elapsedMs": 1481,
            "durationMs": 0
          },
          "breadcrumbsCount": 58,
          "msg": "Async KV storage operation completed"
        }
      ],
      "level": "debug",
      "timestamp": 1749723037551
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVCache",
          "message": "Async KV storage completed",
          "elapsedMs": "1481.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723037551
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheVersionService",
          "message": "Stored cache key version in metadata",
          "elapsedMs": "1792.00",
          "durationMs": "311.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723037862
    },
    {
      "message": [
        {
          "time": 1749723037862,
          "level": 20,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "cacheKey": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
          "versionKey": "version-video-m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4-derivative-desktop",
          "version": 3,
          "ttl": "none",
          "elapsedMs": 1792,
          "category": "CacheVersionService",
          "breadcrumb": {
            "timestamp": 1749723037862,
            "category": "CacheVersionService",
            "message": "Stored cache key version in metadata",
            "data": {
              "cacheKey": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4:derivative=desktop",
              "versionKey": "version-video-m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4-derivative-desktop",
              "version": 3,
              "ttl": "none"
            },
            "elapsedMs": 1792,
            "durationMs": 311
          },
          "durationMs": 311,
          "breadcrumbsCount": 60,
          "msg": "Stored cache key version in metadata"
        }
      ],
      "level": "debug",
      "timestamp": 1749723037862
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Stored cache key version",
          "elapsedMs": "1792.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723037862
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Stored cache version in KV",
          "elapsedMs": "2865.00",
          "durationMs": "1073.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723038935
    },
    {
      "message": [
        {
          "time": 1749723038935,
          "level": 20,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "cacheVersion": 1,
          "versionTtl": "indefinite",
          "elapsedMs": 2865,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723038935,
            "category": "KVStorageService",
            "message": "[STORE_VIDEO] Stored cache version in KV",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "cacheVersion": 1,
              "versionTtl": "indefinite"
            },
            "elapsedMs": 2865,
            "durationMs": 1073
          },
          "durationMs": 1073,
          "breadcrumbsCount": 62,
          "msg": "[STORE_VIDEO] Stored cache version in KV"
        }
      ],
      "level": "debug",
      "timestamp": 1749723038935
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KVStorageService",
          "message": "[STORE_VIDEO] Stored transformed video in KV",
          "elapsedMs": "2865.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723038935
    },
    {
      "message": [
        {
          "time": 1749723038935,
          "level": 20,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "size": 15163697,
          "ttl": "indefinite (storeIndefinitely=true)",
          "cacheVersion": 1,
          "isChunked": false,
          "elapsedMs": 2865,
          "category": "KVStorageService",
          "breadcrumb": {
            "timestamp": 1749723038935,
            "category": "KVStorageService",
            "message": "[STORE_VIDEO] Stored transformed video in KV",
            "data": {
              "key": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "size": 15163697,
              "ttl": "indefinite (storeIndefinitely=true)",
              "cacheVersion": 1,
              "isChunked": false
            },
            "elapsedMs": 2865,
            "durationMs": 0
          },
          "breadcrumbsCount": 63,
          "msg": "[STORE_VIDEO] Stored transformed video in KV"
        }
      ],
      "level": "debug",
      "timestamp": 1749723038935
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "KV",
          "message": "Stored transformed video in KV",
          "elapsedMs": "2865.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723038935
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "VideoStorageService",
          "message": "Successfully stored fallback content in KV",
          "elapsedMs": "2865.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723038935
    },
    {
      "message": [
        {
          "time": 1749723038935,
          "level": 20,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "path": "m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "kvNamespace": "VIDEO_TRANSFORMATIONS_CACHE",
          "elapsedMs": 2865,
          "category": "VideoStorageService",
          "breadcrumb": {
            "timestamp": 1749723038935,
            "category": "VideoStorageService",
            "message": "Successfully stored fallback content in KV",
            "data": {
              "path": "m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "kvNamespace": "VIDEO_TRANSFORMATIONS_CACHE"
            },
            "elapsedMs": 2865,
            "durationMs": 0
          },
          "breadcrumbsCount": 65,
          "msg": "Successfully stored fallback content in KV"
        }
      ],
      "level": "debug",
      "timestamp": 1749723038935
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "CacheVersionService",
          "message": "Stored cache key version in metadata",
          "elapsedMs": "3282.00",
          "durationMs": "417.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723039352
    },
    {
      "message": [
        {
          "time": 1749723039352,
          "level": 20,
          "requestId": "a00e009f-6ef4-4739-a924-68e570d7f569",
          "cacheKey": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "versionKey": "version-video-m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
          "version": 1,
          "ttl": "none",
          "elapsedMs": 3282,
          "category": "CacheVersionService",
          "breadcrumb": {
            "timestamp": 1749723039352,
            "category": "CacheVersionService",
            "message": "Stored cache key version in metadata",
            "data": {
              "cacheKey": "video:m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "versionKey": "version-video-m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4",
              "version": 1,
              "ttl": "none"
            },
            "elapsedMs": 3282,
            "durationMs": 417
          },
          "durationMs": 417,
          "breadcrumbsCount": 66,
          "msg": "Stored cache key version in metadata"
        }
      ],
      "level": "debug",
      "timestamp": 1749723039352
    },
    {
      "message": [
        "RequestContext: Adding breadcrumb",
        {
          "category": "Cache",
          "message": "Stored cache key version",
          "elapsedMs": "3282.00",
          "durationMs": "0.00"
        }
      ],
      "level": "debug",
      "timestamp": 1749723039352
    }
  ],
  "eventTimestamp": 1749723034298,
  "event": {
    "request": {
      "url": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/REDACTED.mp4?imwidth=1920",
      "method": "GET",
      "headers": {
        "accept": "*/*",
        "accept-encoding": "gzip, br",
        "accept-language": "en-GB,en-US;q=0.9,en;q=0.8",
        "cache-control": "no-cache",
        "cf-connecting-ip": "195.240.81.42",
        "cf-device-type": "desktop",
        "cf-ipcountry": "NL",
        "cf-ray": "94e88f2449eb0b40",
        "cf-visitor": "{\"scheme\":\"https\"}",
        "connection": "Keep-Alive",
        "cookie": "REDACTED",
        "dnt": "1",
        "host": "cdn.erfi.dev",
        "pragma": "no-cache",
        "priority": "i",
        "range": "bytes=0-",
        "referer": "https://cdn.erfi.dev/m/3139f95b535e54bc/original/PJ24_SPC_L_F_BESTA-_15s_3x4_NEW.mp4?imwidth=1920",
        "sec-ch-ua": "\"Google Chrome\";v=\"137\", \"Chromium\";v=\"137\", \"Not/A)Brand\";v=\"24\"",
        "sec-ch-ua-mobile": "?0",
        "sec-ch-ua-platform": "\"Windows\"",
        "sec-fetch-dest": "video",
        "sec-fetch-mode": "no-cors",
        "sec-fetch-site": "same-origin",
        "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36",
        "x-forwarded-proto": "https",
        "x-real-ip": "195.240.81.42"
      },
      "cf": {
        "requestHeaderNames": {},
        "httpProtocol": "HTTP/3",
        "tlsCipher": "AEAD-AES128-GCM-SHA256",
        "city": "'s-Hertogenbosch",
        "continent": "EU",
        "asn": 1136,
        "clientAcceptEncoding": "identity;q=1, *;q=0",
        "verifiedBotCategory": "",
        "country": "NL",
        "isEUCountry": "1",
        "botManagement": {
          "jsDetection": {
            "passed": false
          },
          "ja4Signals": {
            "h2h3_ratio_1h": 1,
            "heuristic_ratio_1h": 0.00094815681222826,
            "reqs_quantile_1h": 0.99998784065247,
            "uas_rank_1h": 22,
            "browser_ratio_1h": 0.9394137263298,
            "paths_rank_1h": 9,
            "reqs_rank_1h": 9,
            "cache_ratio_1h": 0.31212079524994,
            "ips_rank_1h": 10,
            "ips_quantile_1h": 0.99998646974564
          },
          "staticResource": false,
          "corporateProxy": false,
          "ja4": "q13d0312h3_55b375c5d22e_5a06198afb93",
          "verifiedBot": false,
          "ja3Hash": "b830205e8c7e77f66e83c92b44d9866d",
          "score": 99,
          "detectionIds": {}
        },
        "region": "North Brabant",
        "tlsClientCiphersSha1": "",
        "tlsClientAuth": {
          "certIssuerDNLegacy": "",
          "certIssuerSKI": "",
          "certSubjectDNRFC2253": "",
          "certSubjectDNLegacy": "",
          "certFingerprintSHA256": "",
          "certNotBefore": "",
          "certSKI": "",
          "certSerial": "",
          "certIssuerDN": "",
          "certVerified": "NONE",
          "certNotAfter": "",
          "certSubjectDN": "",
          "certPresented": "0",
          "certRevoked": "0",
          "certIssuerSerial": "",
          "certIssuerDNRFC2253": "",
          "certFingerprintSHA1": ""
        },
        "tlsClientRandom": "8LEMoBtRnUqz9WlJ6PIt7gwLlKMRvtzMJzeENZYMd3Q=",
        "tlsClientHelloLength": "2014",
        "colo": "AMS",
        "timezone": "Europe/Amsterdam",
        "longitude": "5.30417",
        "latitude": "51.69917",
        "edgeRequestKeepAliveStatus": 1,
        "requestPriority": "",
        "postalCode": "5212",
        "clientTrustScore": 99,
        "tlsVersion": "TLSv1.3",
        "regionCode": "NB",
        "asOrganization": "KPN B.V.",
        "tlsClientExtensionsSha1Le": "",
        "tlsClientExtensionsSha1": "zP4qkNym759zoype3BXDNG7Ndwc="
      }
    },
    "response": {
      "status": 206
    }
  }
}
